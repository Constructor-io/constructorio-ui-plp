import { Meta, Canvas, Story, Controls, Source, ArgTypes } from '@storybook/blocks';
import { Markdown } from '@storybook/blocks';
import meta, { Primary } from './ProductCard.stories';

<Meta of={meta} />

# `ProductCard`
A Component to manage Product Card Interactions.

## Props
<ArgTypes of={Primary} />

## Basic Usage
The Product Card component comes bundled with Constructor.io tracking and swatch rendering in-built, while exposing props to allow for maximum flexibility.
```jsx
import { useCioClient, ProductCard } from '@constructor-io/constructorio-ui-plp'

function myApp() {
  const cioClient = useCioClient({apiKey})
  ...
  
  return (
    <>
      <ProductCard cioClient={cioClient} item={item}  />
    </>
  )
}
```

## Advanced Usage
If you prefer handle tracking yourself via Hooks, you can make use of `ProductCardComponent` instead.
```jsx
import { ProductCardComponent, useOnAddToCart, useOnProductCardClick } from '@constructor-io/constructorio-ui-plp'

function myApp() {
  ...
  const myCustomAddToCart =  useOnAddToCart(() => console.log('Added to cart'))
  const myCustomProductCardClick = useOnProductCardClick(() => console.log('Product Card Clicked'))
  
  return (
    <>
      <ProductCardComponent item={item} onAddToCart={myCustomAddToCart} onClick={myCustomProductCardClick}   />
    </>
  )
}
```


## Working Example
This is an example of how the `ProductCard` might look like.

<Canvas withSource="none">
  <Story of={Primary} />
</Canvas>

<Controls of={Primary} />

### Working Example - Source Code 
```jsx
  import React from 'react';
  import { PlpContextProvider, ProductCard } from '@constructor-io/constructorio-ui-plp';

  const apiKey = 'MY_API_KEY'


  function ProductCardExample() {
    const items = ... // Items retrieved, transformed

    return (
      <>
        <PlpContextProvider apiKey={MY_API_KEY}>
          {
            items.map((item) => (
              <ProductCard item={item} />
            ))
          }
        </PlpContextProvider>
      </>
    );
  }
```