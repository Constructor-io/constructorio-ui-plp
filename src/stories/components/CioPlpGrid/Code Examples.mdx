import { Meta, Canvas, Markdown } from '@storybook/blocks';
import * as CioPlpGridStories from './CioPlpGrid.stories';
import SearchResultsReturn from '../../hooks/UseSearchResults/SearchResultsReturn.md?raw';
/* This "?raw" import raw text form the md file */

<Meta of={CioPlpGridStories} name='Code Examples' />

# `CioPlpGrid`

The CioPlpGrid component is a dynamic and user-friendly component
It is responsible for displaying the results based on user's actions

**Dynamic Result Rendering:**

- Automatically updates and displays results based on user queries
- Handles data fetching from the API

**User-Friendly Interface**:

- Presents data in a clear and accessible layout.
- Includes key details for each result, such as titles, descriptions, prices, swatches and images

**Pagination and Scrolling:**

- Implements pagination for handling large sets of results

**Spinner indicator:**

- It will show a Spinner while fetching data. You can customize it by passing a custom component

**Interactive Elements:**

- Allows users to interact with the results (e.g., Add to cart)

**No Results Handling:**

- Gracefully manages scenarios with no results
- Displays a user-friendly message indicating the absence of results

**Performance Optimization:**

- Optimized for quick rendering and updating of results
- Ensures smooth performance, even with large datasets or real-time requirements

<Canvas of={CioPlpGridStories.Primary} />

## Basic example

```jsx
import React from 'react';
import { CioPlp, CioPlpGrid } from '@constructor-io/constructorio-ui-plp';

const apiKey = 'MY_API_KEY';

function MyComponent() {
  return (
    <>
      <CioPlp apiKey={MY_API_KEY}>
        <CioPlpGrid />
      </CioPlp>
    </>
  );
}
```

## Render Props pattern

If you prefer to handle the rendering of the CioPlpGrid component, you may pass a Render Props function to the component.

```jsx
import { CioPlp, CioPlpGrid } from '@constructor-io/constructorio-ui-plp'

const apiKey = 'MY_API_KEY';

function MyCustomRender(props) {
  const {data, status, refetch} = props

  return (
    <>
      {/* CUSTOM_MARKUP_HERE */}
    </>
  );
}

function myApp() {
  ...

  return (
    <CioPlp apiKey={MY_API_KEY}>
      <CioPlpGrid />
        {(props) => {
          return <MyCustomRender {...props} />;
        }}
      </CioPlpGrid>
    </CioPlp>
  )
}
```

For a working example, visit our Code Sandbox:

- <a href='https://codesandbox.io/p/sandbox/constructorio-ui-plp-customization-example-sgdgkl?file=%2Fsrc%2Fcomponents%2FCustomCioPlp.js' target='_blank' rel='noopener noreferrer'> Code Sandbox Example - Custom Render </a>

### Arguments passed to children via Render Props

> Accessible to children of the CioPlpGrid component via render props.

<Markdown>{SearchResultsReturn}</Markdown>
