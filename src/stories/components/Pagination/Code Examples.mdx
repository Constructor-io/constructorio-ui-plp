import { Meta, Canvas, Controls, Markdown } from '@storybook/blocks';
import * as PaginationStories from './Pagination.stories';
import UsePaginationReturn from '../../hooks/UsePagination/UsePaginationReturn.md?raw';
/* This "?raw" import raw text form the md file */

<Meta of={PaginationStories} />

# `Pagination`

The Pagination component is a dynamic component that manages pagination interactions.

<Canvas of={PaginationStories.Primary} />

## Basic example

```jsx
import { CioPlp, CioPlpGrid, Pagination, utils } from '@constructor-io/constructorio-ui-plp';
import '@constructor-io/constructorio-ui-plp/styles.css';

const DEMO_API_KEY = 'key_M57QS8SMPdLdLx4x';

export default function MyComponent() {
  return (
    <CioPlp apiKey={DEMO_API_KEY}>
      <CioPlpGrid>
        {(props) => {
          if (utils.isPlpBrowseDataResults(props.data) || utils.isPlpSearchDataResults(props.data))
            return <Pagination totalNumResults={props.data.response.totalNumResults} />;
        }}
      </CioPlpGrid>
    </CioPlp>
  );
}
```

## Render Props pattern

If you prefer handle the rendering of the Pagination component, you may pass a Render Props function to the component.

```jsx
import { CioPlp, CioPlpGrid, Pagination, utils } from '@constructor-io/constructorio-ui-plp';
import '@constructor-io/constructorio-ui-plp/styles.css';

const DEMO_API_KEY = 'key_M57QS8SMPdLdLx4x';

function MyCustomPagination(props) {
  const { currentPage, goToPage, nextPage, pages, prevPage, totalPages } = props;
  return (
    <div>
      <button onClick={() => prevPage()}>&lt;</button>
      {pages.map((page) => (
        <button onClick={() => goToPage(page)} type='button'>
          {page === -1 ? <span>...</span> : page}
        </button>
      ))}
      <button onClick={() => nextPage()} type='button'>
        &gt;
      </button>
    </div>
  );
}

export default function MyComponent() {
  return (
    <CioPlp apiKey={DEMO_API_KEY}>
      <CioPlpGrid>
        {(props) => {
          if (utils.isPlpBrowseDataResults(props.data) || utils.isPlpSearchDataResults(props.data))
            return (
              <Pagination totalNumResults={props.data.response.totalNumResults}>
                {(props) => {
                  return <MyCustomPagination {...props} />;
                }}
              </Pagination>
            );
        }}
      </CioPlpGrid>
    </CioPlp>
  );
}
```

### Arguments passed to children via Render Props

> Accessible to children of the Pagination component via render props.

`UsePaginationReturn`

<Markdown>{UsePaginationReturn}</Markdown>
