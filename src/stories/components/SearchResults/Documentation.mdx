import { Meta, Canvas, Markdown } from '@storybook/blocks';
import * as SearchResultsStories from './SearchResults.stories';

<Meta of={SearchResultsStories} name="Documentation" />

## `SearchResults`
The SearchResults component is a dynamic and user-friendly component. 
It is responsible for displaying the results based on user's search query. 

**Dynamic Result Rendering:**
- Automatically updates and displays search results based on user queries.
- Handles data fetching from the API.

**User-Friendly Interface**:
- Presents data in a clear and accessible layout.
- Includes key details for each result, such as titles, descriptions, prices, swatches and images.

**Pagination and Scrolling:**
- Implements pagination for handling large sets of results.

**Interactive Elements:**
- Allows users to interact with the search results (e.g., Add to cart).

**No Results Handling:**
- Gracefully manages scenarios with no search results.
- Displays a user-friendly message indicating the absence of results.

**Performance Optimization:**
- Optimized for quick rendering and updating of search results.
- Ensures smooth performance, even with large datasets or real-time search requirements.


### Basic Example
```jsx
  import React from 'react';
  import { CioPlp, SearchResults } from '@constructor-io/constructorio-ui-plp';

  const apiKey = 'MY_API_KEY';

  function MyComponent() {

    return (
      <>
        <CioPlp apiKey={MY_API_KEY}>
          <SearchResults />
        </CioPlp>
      </>
    );
  }
```

<Canvas of={SearchResultsStories.Primary} />

### Using RenderProps
If you prefer to handle the rendering of the search results yourself, you may pass a Render Props function to the component.

```jsx
import { CioPlp, SearchResults } from '@constructor-io/constructorio-ui-plp'

const apiKey = 'MY_API_KEY';

function myApp() {
  ...

  return (
    <CioPlp apiKey={MY_API_KEY}>
      <SearchResults />
        {({data, pagination, refetch}) => data?.response?.results?.map((item) => <li>{item.itemName}</li>)}
      </SearchResults>
    </CioPlp>
  )
}
```

