import { Meta, Markdown, Canvas } from '@storybook/blocks';
import * as CioPlpStories from './CioPlp.stories';
import RenderProps from './RenderProps.md?raw'
/* This "?raw" import raw text form the md file */

<Meta of={CioPlpStories} />

# `CioPlp`

The `<CioPlp/>` component is designed to simplify and enhance the way you manage and display product listings or similar content in your application.
This component offers a default layout for your PLP, while also serving as a versatile wrapper around other components, allowing for consistent context management and flexible content rendering.

**Key Features:**

- Default PLP Markup that includes: Product Grid, Filters, Sorting, Pagination
- Context Management: [Context values](./?path=/docs/components-cioplp--code-examples#arguments-passed-to-children-via-render-props) are accessible within children of CioPlp

## Default render
Open in full screen here: <a href="./?path=/story/components-cioplp--primary">Link</a>
<Canvas of={CioPlpStories.Primary} />

## Basic Example
This renders the PLP displayed above.

  ```jsx
  import React from 'react';
  import { CioPlp } from '@constructor-io/constructorio-ui-plp';
  import '@constructor-io/constructorio-ui-plp/styles.css';

  const apiKey = 'MY_API_KEY'

  function MyComponent() {
    
    return (
      <>
        <CioPlp apiKey={apiKey} />
      </>
    );
  }
  ```


## Render Props pattern
Take control of the rendering logic by using Render Props through `children`. 
The [context](..?path=/docs/components-cioplp--code-examples#cioplp-context-value) will be passed along as props to your render function.

```jsx
import { CioPlp } from '@constructor-io/constructorio-ui-plp';

function MyGrid(props) {
  const { cioClient, cioClientOptions, setCioClientOptions, formatters, itemFieldGetters, urlHelpers } = props

  return (
    <>
      {/* CUSTOM_MARKUP_HERE */}
    </>
  );
}

function MyComponent() {
  return (
    <CioPlp apiKey={apiKey}>
      <MyGrid />
    </CioPlp>
  );
}
```


### Arguments passed to children via Render Props
>Accessible to children of the CioPlp component via render props.
or via useCioPlpContext() hook. 

<Markdown>{RenderProps}</Markdown>

