import { Meta, Canvas } from '@storybook/blocks';
import * as PaginationStories from './Pagination.stories';

<Meta of={PaginationStories} />

# `Pagination`
A Component to manage pagination interactions and UI.

<Canvas of={PaginationStories.Primary} />

{/* Todo: Update examples */}
## Basic Example
  ```jsx
  import React from 'react';
  import { CioPlpContext, Pagination, usePagination } from '@constructor-io/constructorio-ui-plp';

  const apiKey = 'MY_API_KEY'

  function MyComponent() {
    const { currentPage, goToPage, nextPage, pages, prevPage, totalPages } = usePagination(props);

    return (
      <>
        <CioPlpContext apiKey={MY_API_KEY}>
          <Pagination pagination={ currentPage, goToPage, nextPage, pages, prevPage, totalPages }>
        </CioPlpContext>
      </>
    );
  }
  ```


## Using RenderProps
If you prefer handle the rendering yourself, you may pass a Render Props function to the component.
```jsx
import { CioPlpContext, Pagination } from '@constructor-io/constructorio-ui-plp'

function myApp() {
  ...
  
  return (
    <CioPlpContext apiKey={YOUR_API_KEY}>
      <Pagination>
        {
          ({
            currentPage,
            goToPage,
            nextPage,
            pages,
            prevPage,
            totalPages,
          }) => (
            <div>
              <div>Current Page: {currentPage}</div>
              <div>Total: {totalPages}</div>
              <button onClick={() => prevPage()} type='button'>
                Previous
              </button>

              {pages.map((page) => (
                <button onClick={() => goToPage(page)} type='button'>
                  {page}
                </button>
              ))}
              <button onClick={() => nextPage()} type='button'>
                Next
              </button>
            </div>
           )
        }
      </Pagination>
    </CioPlpContext>
  )
}
```

  

{/* Todo: add control once props are updated to usePaginationProps */}
{/* <h2>Controls</h2> */}
{/* <Controls /> */}