import{c as ne,g as Rt}from"./_commonjsHelpers-de833af9.js";import{c as Ot}from"./_commonjs-dynamic-modules-302442b1.js";import{r as Tt}from"./index-61bf1805.js";const Ir="key_M57QS8SMPdLdLx4x";var bt={exports:{}};(function(k){function E(b){return b&&b.__esModule?b:{default:b}}k.exports=E,k.exports.__esModule=!0,k.exports.default=k.exports})(bt);var $=bt.exports,fe={exports:{}},Ge;function te(){return Ge||(Ge=1,function(k){function E(b,d){if(!(b instanceof d))throw new TypeError("Cannot call a class as a function")}k.exports=E,k.exports.__esModule=!0,k.exports.default=k.exports}(fe)),fe.exports}var le={exports:{}},he={exports:{}},de={exports:{}},Ve;function ue(){return Ve||(Ve=1,function(k){function E(b){"@babel/helpers - typeof";return k.exports=E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},k.exports.__esModule=!0,k.exports.default=k.exports,E(b)}k.exports=E,k.exports.__esModule=!0,k.exports.default=k.exports}(de)),de.exports}var ve={exports:{}},Ke;function Bt(){return Ke||(Ke=1,function(k){var E=ue().default;function b(d,q){if(E(d)!=="object"||d===null)return d;var r=d[Symbol.toPrimitive];if(r!==void 0){var s=r.call(d,q||"default");if(E(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(d)}k.exports=b,k.exports.__esModule=!0,k.exports.default=k.exports}(ve)),ve.exports}var Je;function mt(){return Je||(Je=1,function(k){var E=ue().default,b=Bt();function d(q){var r=b(q,"string");return E(r)==="symbol"?r:String(r)}k.exports=d,k.exports.__esModule=!0,k.exports.default=k.exports}(he)),he.exports}var We;function re(){return We||(We=1,function(k){var E=mt();function b(q,r){for(var s=0;s<r.length;s++){var o=r[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(q,E(o.key),o)}}function d(q,r,s){return r&&b(q.prototype,r),s&&b(q,s),Object.defineProperty(q,"prototype",{writable:!1}),q}k.exports=d,k.exports.__esModule=!0,k.exports.default=k.exports}(le)),le.exports}var ge={exports:{}},Qe;function Dt(){return Qe||(Qe=1,function(k){(function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(b){if(b==null)throw new TypeError("Cannot convert first argument to object");for(var d=Object(b),q=1;q<arguments.length;q++){var r=arguments[q];if(r!=null){r=Object(r);for(var s=Object.keys(Object(r)),o=0,i=s.length;i>o;o++){var v=s[o],w=Object.getOwnPropertyDescriptor(r,v);w!==void 0&&w.enumerable&&(d[v]=r[v])}}}return d}});var E=function(b){var d={user_agent:null,persist:!0,cookie_name_client_id:"ConstructorioID_client_id",cookie_name_session_id:"ConstructorioID_session_id",cookie_name_session_data:"ConstructorioID_session",cookie_domain:null,cookie_secure:null,cookie_samesite:null,cookie_days_to_live:365,local_name_client_id:"_constructorio_search_client_id",local_name_session_id:"_constructorio_search_session_id",local_name_session_data:"_constructorio_search_session",on_node:typeof window>"u",session_is_new:null,client_id_storage_location:"cookie",session_id_storage_location:"local"};if(Object.assign(this,d,b),!this.client_id)if(!this.on_node&&this.persist){var q;this.client_id_storage_location==="cookie"&&(q=this.get_cookie(this.cookie_name_client_id)),this.client_id_storage_location==="local"&&(q=this.get_local_object(this.local_name_client_id)),this.client_id=q||this.generate_client_id()}else this.client_id=this.generate_client_id();this.session_id||(!this.on_node&&this.persist?this.session_id=this.generate_session_id():this.session_id=1),this.on_node||(this.user_agent=this.user_agent||window&&window.navigator&&window.navigator.userAgent)};E.prototype.set_cookie=function(b,d){if(!this.on_node&&this.persist){var q=new Date(Date.now()+this.cookie_days_to_live*24*60*60*1e3),r=b+"="+d+"; expires="+q.toUTCString()+"; path=/";return this.cookie_domain&&(r+="; domain="+this.cookie_domain),this.cookie_secure&&(r+="; secure"),this.cookie_samesite&&(r+="; samesite="+this.cookie_samesite),document.cookie=r,r}return null},E.prototype.get_cookie=function(b){for(var d=b+"=",q=document.cookie.split(";"),r=0;r<q.length;r++){var s=q[r];try{for(var o=decodeURIComponent(s);o.charAt(0)===" ";)o=o.substring(1);if(o.indexOf(d)===0)return o.substring(d.length,o.length)}catch{}}},E.prototype.delete_cookie=function(b){document.cookie=b+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},E.prototype.generate_client_id=function(){var b;if(!this.on_node){var d=this.get_cookie(this.cookie_name_client_id),q=this.get_local_object(this.local_name_client_id);this.client_id_storage_location==="cookie"&&q&&(b=q,this.set_cookie(this.cookie_name_client_id,b),this.delete_local_object(this.local_name_client_id)),this.client_id_storage_location==="local"&&d&&(b=d,this.set_local_object(this.local_name_client_id,b),this.delete_cookie(this.cookie_name_client_id))}return b||(b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var s=Math.random()*16|0,o=r==="x"?s:s&3|8;return o.toString(16)}),this.client_id_storage_location==="cookie"&&this.set_cookie(this.cookie_name_client_id,b),this.client_id_storage_location==="local"&&this.set_local_object(this.local_name_client_id,b)),b},E.prototype.get_local_object=function(b){var d,q=window&&window.localStorage;if(q&&typeof b=="string")try{d=JSON.parse(q.getItem(b))}catch{d=q.getItem(b)}return d},E.prototype.set_local_object=function(b,d){var q=window&&window.localStorage;if(q&&typeof b=="string"){if(typeof d=="object")try{q.setItem(b,JSON.stringify(d))}catch{}if(typeof d=="string"||typeof d=="number")try{q.setItem(b,d)}catch{}}},E.prototype.delete_local_object=function(b){var d=window&&window.localStorage;if(d&&typeof b=="string")try{d.removeItem(b)}catch{}},E.prototype.generate_session_id=function(){var b=this.get_cookie(this.cookie_name_session_data),d=this.get_local_object(this.local_name_session_data),q=Date.now(),r=1e3*60*30,s;if(this.session_id_storage_location==="local"&&(s=this.get_local_object(this.local_name_session_data),!s&&b&&(s=b,this.delete_cookie(this.cookie_name_session_data))),this.session_id_storage_location==="cookie"){s=this.get_cookie(this.cookie_name_session_data);try{s=JSON.parse(s)}catch{}!s&&d&&(s=d,this.delete_local_object(this.local_name_session_data))}var o=1,i=1;return s&&typeof s=="object"&&(i=parseInt(s.sessionId,10)||1,s.lastTime>q-r?o=i:o=i+1),this.session_id=o,this.session_is_new=!(s&&i===o),this.session_id_storage_location==="local"&&(this.set_local_object(this.local_name_session_id,o),this.set_local_object(this.local_name_session_data,{sessionId:o,lastTime:q})),this.session_id_storage_location==="cookie"&&(this.set_cookie(this.cookie_name_session_id,o),this.set_cookie(this.cookie_name_session_data,JSON.stringify({sessionId:o,lastTime:q}))),o},typeof Ot<"u"&&(k.exports=E)})()}(ge)),ge.exports}var ae={exports:{}},Xe;function It(){return Xe||(Xe=1,function(k,E){(function(b){function d(q){var r=q&&q.Promise||b.Promise,s=q&&q.XMLHttpRequest||b.XMLHttpRequest;return function(){var o=Object.create(b,{fetch:{value:void 0,writable:!0}});return function(i,v){v(E)}(this,function(i){var v=typeof o<"u"&&o||typeof self<"u"&&self||typeof v<"u"&&v,w={searchParams:"URLSearchParams"in v,iterable:"Symbol"in v&&"iterator"in Symbol,blob:"FileReader"in v&&"Blob"in v&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in v,arrayBuffer:"ArrayBuffer"in v};function C(h){return h&&DataView.prototype.isPrototypeOf(h)}if(w.arrayBuffer)var B=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],T=ArrayBuffer.isView||function(h){return h&&B.indexOf(Object.prototype.toString.call(h))>-1};function y(h){if(typeof h!="string"&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(h)||h==="")throw new TypeError("Invalid character in header field name");return h.toLowerCase()}function e(h){return typeof h!="string"&&(h=String(h)),h}function t(h){var A={next:function(){var O=h.shift();return{done:O===void 0,value:O}}};return w.iterable&&(A[Symbol.iterator]=function(){return A}),A}function f(h){this.map={},h instanceof f?h.forEach(function(A,O){this.append(O,A)},this):Array.isArray(h)?h.forEach(function(A){this.append(A[0],A[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(A){this.append(A,h[A])},this)}f.prototype.append=function(h,A){h=y(h),A=e(A);var O=this.map[h];this.map[h]=O?O+", "+A:A},f.prototype.delete=function(h){delete this.map[y(h)]},f.prototype.get=function(h){return h=y(h),this.has(h)?this.map[h]:null},f.prototype.has=function(h){return this.map.hasOwnProperty(y(h))},f.prototype.set=function(h,A){this.map[y(h)]=e(A)},f.prototype.forEach=function(h,A){for(var O in this.map)this.map.hasOwnProperty(O)&&h.call(A,this.map[O],O,this)},f.prototype.keys=function(){var h=[];return this.forEach(function(A,O){h.push(O)}),t(h)},f.prototype.values=function(){var h=[];return this.forEach(function(A){h.push(A)}),t(h)},f.prototype.entries=function(){var h=[];return this.forEach(function(A,O){h.push([O,A])}),t(h)},w.iterable&&(f.prototype[Symbol.iterator]=f.prototype.entries);function g(h){if(h.bodyUsed)return r.reject(new TypeError("Already read"));h.bodyUsed=!0}function _(h){return new r(function(A,O){h.onload=function(){A(h.result)},h.onerror=function(){O(h.error)}})}function a(h){var A=new FileReader,O=_(A);return A.readAsArrayBuffer(h),O}function c(h){var A=new FileReader,O=_(A);return A.readAsText(h),O}function p(h){for(var A=new Uint8Array(h),O=new Array(A.length),N=0;N<A.length;N++)O[N]=String.fromCharCode(A[N]);return O.join("")}function u(h){if(h.slice)return h.slice(0);var A=new Uint8Array(h.byteLength);return A.set(new Uint8Array(h)),A.buffer}function n(){return this.bodyUsed=!1,this._initBody=function(h){this.bodyUsed=this.bodyUsed,this._bodyInit=h,h?typeof h=="string"?this._bodyText=h:w.blob&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:w.formData&&FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:w.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():w.arrayBuffer&&w.blob&&C(h)?(this._bodyArrayBuffer=u(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):w.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(h)||T(h))?this._bodyArrayBuffer=u(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="",this.headers.get("content-type")||(typeof h=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):w.searchParams&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},w.blob&&(this.blob=function(){var h=g(this);if(h)return h;if(this._bodyBlob)return r.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return r.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var h=g(this);return h||(ArrayBuffer.isView(this._bodyArrayBuffer)?r.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):r.resolve(this._bodyArrayBuffer))}else return this.blob().then(a)}),this.text=function(){var h=g(this);if(h)return h;if(this._bodyBlob)return c(this._bodyBlob);if(this._bodyArrayBuffer)return r.resolve(p(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return r.resolve(this._bodyText)},w.formData&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function l(h){var A=h.toUpperCase();return m.indexOf(A)>-1?A:h}function x(h,A){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A=A||{};var O=A.body;if(h instanceof x){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url,this.credentials=h.credentials,A.headers||(this.headers=new f(h.headers)),this.method=h.method,this.mode=h.mode,this.signal=h.signal,!O&&h._bodyInit!=null&&(O=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=A.credentials||this.credentials||"same-origin",(A.headers||!this.headers)&&(this.headers=new f(A.headers)),this.method=l(A.method||this.method||"GET"),this.mode=A.mode||this.mode||null,this.signal=A.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(A.cache==="no-store"||A.cache==="no-cache")){var N=/([?&])_=[^&]*/;if(N.test(this.url))this.url=this.url.replace(N,"$1_="+new Date().getTime());else{var L=/\?/;this.url+=(L.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})};function S(h){var A=new FormData;return h.trim().split("&").forEach(function(O){if(O){var N=O.split("="),L=N.shift().replace(/\+/g," "),D=N.join("=").replace(/\+/g," ");A.append(decodeURIComponent(L),decodeURIComponent(D))}}),A}function R(h){var A=new f,O=h.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(N){return N.indexOf(`
`)===0?N.substr(1,N.length):N}).forEach(function(N){var L=N.split(":"),D=L.shift().trim();if(D){var M=L.join(":").trim();A.append(D,M)}}),A}n.call(x.prototype);function I(h,A){if(!(this instanceof I))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A||(A={}),this.type="default",this.status=A.status===void 0?200:A.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in A?A.statusText:"",this.headers=new f(A.headers),this.url=A.url||"",this._initBody(h)}n.call(I.prototype),I.prototype.clone=function(){return new I(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},I.error=function(){var h=new I(null,{status:0,statusText:""});return h.type="error",h};var j=[301,302,303,307,308];I.redirect=function(h,A){if(j.indexOf(A)===-1)throw new RangeError("Invalid status code");return new I(null,{status:A,headers:{location:h}})},i.DOMException=v.DOMException;try{new i.DOMException}catch{i.DOMException=function(A,O){this.message=A,this.name=O;var N=Error(A);this.stack=N.stack},i.DOMException.prototype=Object.create(Error.prototype),i.DOMException.prototype.constructor=i.DOMException}function U(h,A){return new r(function(O,N){var L=new x(h,A);if(L.signal&&L.signal.aborted)return N(new i.DOMException("Aborted","AbortError"));var D=new s;function M(){D.abort()}D.onload=function(){var F={status:D.status,statusText:D.statusText,headers:R(D.getAllResponseHeaders()||"")};F.url="responseURL"in D?D.responseURL:F.headers.get("X-Request-URL");var H="response"in D?D.response:D.responseText;setTimeout(function(){O(new I(H,F))},0)},D.onerror=function(){setTimeout(function(){N(new TypeError("Network request failed"))},0)},D.ontimeout=function(){setTimeout(function(){N(new TypeError("Network request failed"))},0)},D.onabort=function(){setTimeout(function(){N(new i.DOMException("Aborted","AbortError"))},0)};function P(F){try{return F===""&&v.location.href?v.location.href:F}catch{return F}}D.open(L.method,P(L.url),!0),L.credentials==="include"?D.withCredentials=!0:L.credentials==="omit"&&(D.withCredentials=!1),"responseType"in D&&(w.blob?D.responseType="blob":w.arrayBuffer&&L.headers.get("Content-Type")&&L.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(D.responseType="arraybuffer")),A&&typeof A.headers=="object"&&!(A.headers instanceof f)?Object.getOwnPropertyNames(A.headers).forEach(function(F){D.setRequestHeader(F,e(A.headers[F]))}):L.headers.forEach(function(F,H){D.setRequestHeader(H,F)}),L.signal&&(L.signal.addEventListener("abort",M),D.onreadystatechange=function(){D.readyState===4&&L.signal.removeEventListener("abort",M)}),D.send(typeof L._bodyInit>"u"?null:L._bodyInit)})}U.polyfill=!0,v.fetch||(v.fetch=U,v.Headers=f,v.Request=x,v.Response=I),i.Headers=f,i.Request=x,i.Response=I,i.fetch=U,Object.defineProperty(i,"__esModule",{value:!0})}),{fetch:o.fetch,Headers:o.Headers,Request:o.Request,Response:o.Response,DOMException:o.DOMException}}()}k.exports=d})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof ne<"u"?ne:ne)}(ae,ae.exports)),ae.exports}var pe={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */var Ye;function Ut(){return Ye||(Ye=1,function(k){(function(E){E(typeof DO_NOT_EXPORT_CRC>"u"?k:{})})(function(E){E.version="1.2.2";function b(){for(var n=0,m=new Array(256),l=0;l!=256;++l)n=l,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,n=n&1?-306674912^n>>>1:n>>>1,m[l]=n;return typeof Int32Array<"u"?new Int32Array(m):m}var d=b();function q(n){var m=0,l=0,x=0,S=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(x=0;x!=256;++x)S[x]=n[x];for(x=0;x!=256;++x)for(l=n[x],m=256+x;m<4096;m+=256)l=S[m]=l>>>8^n[l&255];var R=[];for(x=1;x!=16;++x)R[x-1]=typeof Int32Array<"u"?S.subarray(x*256,x*256+256):S.slice(x*256,x*256+256);return R}var r=q(d),s=r[0],o=r[1],i=r[2],v=r[3],w=r[4],C=r[5],B=r[6],T=r[7],y=r[8],e=r[9],t=r[10],f=r[11],g=r[12],_=r[13],a=r[14];function c(n,m){for(var l=m^-1,x=0,S=n.length;x<S;)l=l>>>8^d[(l^n.charCodeAt(x++))&255];return~l}function p(n,m){for(var l=m^-1,x=n.length-15,S=0;S<x;)l=a[n[S++]^l&255]^_[n[S++]^l>>8&255]^g[n[S++]^l>>16&255]^f[n[S++]^l>>>24]^t[n[S++]]^e[n[S++]]^y[n[S++]]^T[n[S++]]^B[n[S++]]^C[n[S++]]^w[n[S++]]^v[n[S++]]^i[n[S++]]^o[n[S++]]^s[n[S++]]^d[n[S++]];for(x+=15;S<x;)l=l>>>8^d[(l^n[S++])&255];return~l}function u(n,m){for(var l=m^-1,x=0,S=n.length,R=0,I=0;x<S;)R=n.charCodeAt(x++),R<128?l=l>>>8^d[(l^R)&255]:R<2048?(l=l>>>8^d[(l^(192|R>>6&31))&255],l=l>>>8^d[(l^(128|R&63))&255]):R>=55296&&R<57344?(R=(R&1023)+64,I=n.charCodeAt(x++)&1023,l=l>>>8^d[(l^(240|R>>8&7))&255],l=l>>>8^d[(l^(128|R>>2&63))&255],l=l>>>8^d[(l^(128|I>>6&15|(R&3)<<4))&255],l=l>>>8^d[(l^(128|I&63))&255]):(l=l>>>8^d[(l^(224|R>>12&15))&255],l=l>>>8^d[(l^(128|R>>6&63))&255],l=l>>>8^d[(l^(128|R&63))&255]);return~l}E.table=d,E.bstr=c,E.buf=p,E.str=u})}(pe)),pe}var _e={exports:{}};/*! store2 - v2.14.2 - 2022-07-18
* Copyright (c) 2022 Nathan Bubna; Licensed (MIT OR GPL-3.0) */var Ze;function Nt(){return Ze||(Ze=1,function(k){(function(E,b){var d={version:"2.14.2",areas:{},apis:{},nsdelim:".",inherit:function(r,s){for(var o in r)s.hasOwnProperty(o)||Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(r,o));return s},stringify:function(r,s){return r===void 0||typeof r=="function"?r+"":JSON.stringify(r,s||d.replace)},parse:function(r,s){try{return JSON.parse(r,s||d.revive)}catch{return r}},fn:function(r,s){d.storeAPI[r]=s;for(var o in d.apis)d.apis[o][r]=s},get:function(r,s){return r.getItem(s)},set:function(r,s,o){r.setItem(s,o)},remove:function(r,s){r.removeItem(s)},key:function(r,s){return r.key(s)},length:function(r){return r.length},clear:function(r){r.clear()},Store:function(r,s,o){var i=d.inherit(d.storeAPI,function(w,C,B){return arguments.length===0?i.getAll():typeof C=="function"?i.transact(w,C,B):C!==void 0?i.set(w,C,B):typeof w=="string"||typeof w=="number"?i.get(w):typeof w=="function"?i.each(w):w?i.setAll(w,C):i.clear()});i._id=r;try{var v="__store2_test";s.setItem(v,"ok"),i._area=s,s.removeItem(v)}catch{i._area=d.storage("fake")}return i._ns=o||"",d.areas[r]||(d.areas[r]=i._area),d.apis[i._ns+i._id]||(d.apis[i._ns+i._id]=i),i},storeAPI:{area:function(r,s){var o=this[r];return(!o||!o.area)&&(o=d.Store(r,s,this._ns),this[r]||(this[r]=o)),o},namespace:function(r,s,o){if(o=o||this._delim||d.nsdelim,!r)return this._ns?this._ns.substring(0,this._ns.length-o.length):"";var i=r,v=this[i];if((!v||!v.namespace)&&(v=d.Store(this._id,this._area,this._ns+i+o),v._delim=o,this[i]||(this[i]=v),!s))for(var w in d.areas)v.area(w,d.areas[w]);return v},isFake:function(r){return r?(this._real=this._area,this._area=d.storage("fake")):r===!1&&(this._area=this._real||this._area),this._area.name==="fake"},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(r){return this._area.has?this._area.has(this._in(r)):this._in(r)in this._area},size:function(){return this.keys().length},each:function(r,s){for(var o=0,i=d.length(this._area);o<i;o++){var v=this._out(d.key(this._area,o));if(v!==void 0&&r.call(this,v,this.get(v),s)===!1)break;i>d.length(this._area)&&(i--,o--)}return s||this},keys:function(r){return this.each(function(s,o,i){i.push(s)},r||[])},get:function(r,s){var o=d.get(this._area,this._in(r)),i;return typeof s=="function"&&(i=s,s=null),o!==null?d.parse(o,i):s??o},getAll:function(r){return this.each(function(s,o,i){i[s]=o},r||{})},transact:function(r,s,o){var i=this.get(r,o),v=s(i);return this.set(r,v===void 0?i:v),this},set:function(r,s,o){var i=this.get(r),v;return i!=null&&o===!1?s:(typeof o=="function"&&(v=o,o=void 0),d.set(this._area,this._in(r),d.stringify(s,v),o)||i)},setAll:function(r,s){var o,i;for(var v in r)i=r[v],this.set(v,i,s)!==i&&(o=!0);return o},add:function(r,s,o){var i=this.get(r);if(i instanceof Array)s=i.concat(s);else if(i!==null){var v=typeof i;if(v===typeof s&&v==="object"){for(var w in s)i[w]=s[w];s=i}else s=i+s}return d.set(this._area,this._in(r),d.stringify(s,o)),s},remove:function(r,s){var o=this.get(r,s);return d.remove(this._area,this._in(r)),o},clear:function(){return this._ns?this.each(function(r){d.remove(this._area,this._in(r))},1):d.clear(this._area),this},clearAll:function(){var r=this._area;for(var s in d.areas)d.areas.hasOwnProperty(s)&&(this._area=d.areas[s],this.clear());return this._area=r,this},_in:function(r){return typeof r!="string"&&(r=d.stringify(r)),this._ns?this._ns+r:r},_out:function(r){return this._ns?r&&r.indexOf(this._ns)===0?r.substring(this._ns.length):void 0:r}},storage:function(r){return d.inherit(d.storageAPI,{items:{},name:r})},storageAPI:{length:0,has:function(r){return this.items.hasOwnProperty(r)},key:function(r){var s=0;for(var o in this.items)if(this.has(o)&&r===s++)return o},setItem:function(r,s){this.has(r)||this.length++,this.items[r]=s},removeItem:function(r){this.has(r)&&(delete this.items[r],this.length--)},getItem:function(r){return this.has(r)?this.items[r]:null},clear:function(){for(var r in this.items)this.removeItem(r)}}},q=d.Store("local",function(){try{return localStorage}catch{}}());q.local=q,q._=d,q.area("session",function(){try{return sessionStorage}catch{}}()),q.area("page",d.storage("page")),typeof b=="function"&&b.amd!==void 0?b("store2",[],function(){return q}):k.exports?k.exports=q:(E.store&&(d.conflict=E.store),E.store=q)})(ne,ne&&ne.define)}(_e)),_e.exports}var ye,$e;function Lt(){return $e||($e=1,ye=function(k,E){var b=E.set,d=E.get,q=E.remove,r=E.key,s=E.length,o=E.clear;E.overflow=function(i,v){var w=i===E.areas.local?"+local+":i===E.areas.session?"+session+":!1;if(w){var C=E.areas[w];return v&&!C?C=k.area(w)._area:v===!1&&(delete E.areas[w],delete k[w]),C}},E.set=function(i,v,w){try{b.apply(this,arguments)}catch(C){if(C.name==="QUOTA_EXCEEDED_ERR"||C.name==="NS_ERROR_DOM_QUOTA_REACHED"||C.toString().indexOf("QUOTA_EXCEEDED_ERR")!==-1||C.toString().indexOf("QuotaExceededError")!==-1)return E.set(E.overflow(i,!0),v,w);throw C}},E.get=function(i,v){var w=E.overflow(i);return w&&d.call(this,w,v)||d.apply(this,arguments)},E.remove=function(i,v){var w=E.overflow(i);w&&q.call(this,w,v),q.apply(this,arguments)},E.key=function(i,v){var w=E.overflow(i);if(w){var C=s.call(this,i);if(v>=C){v=v-C;for(var B=0,T=s.call(this,w);B<T;B++)if(B===v)return r.call(this,w,B)}}return r.apply(this,arguments)},E.length=function(i){var v=s(i),w=E.overflow(i);return w?v+s(w):v},E.clear=function(i){E.overflow(i,!1),o.apply(this,arguments)}}),ye}var we,et;function je(){if(et)return we;et=1;var k=Nt(),E=Lt();return E(k,k._),we=k,we}var be,tt;function ie(){if(tt)return be;tt=1;var k=$,E=k(ue()),b=Ut(),d=je(),q="_constructorio_purchase_order_ids",r={trimNonBreakingSpaces:function(o){return o.replace(/\s/g," ").trim()},encodeURIComponentRFC3986:function(o){return encodeURIComponent(o).replace(/[!'()*]/g,function(i){return"%".concat(i.charCodeAt(0).toString(16).toUpperCase())})},cleanParams:function(o){var i={};return Object.keys(o).forEach(function(v){var w=o[v];typeof w=="string"?i[v]=r.trimNonBreakingSpaces(w):i[v]=w}),i},throwHttpErrorFromResponse:function(o,i){return i.json().then(function(v){throw o.message=v.message,o.status=i.status,o.statusText=i.statusText,o.url=i.url,o.headers=i.headers,o})},canUseDOM:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},addEventListener:function(o,i,v){r.canUseDOM()&&window.addEventListener(o,i,v)},removeEventListener:function(o,i,v){r.canUseDOM()&&window.removeEventListener(o,i,v)},getNavigator:function(){return r.canUseDOM()?window.navigator:{userAgent:"",webdriver:!1}},isNil:function(o){return o==null},getWindowLocation:function(){return r.canUseDOM()?window.location:{}},dispatchEvent:function(o){r.canUseDOM()&&window.dispatchEvent(o)},createCustomEvent:function(o,i){if(r.canUseDOM())try{return new window.CustomEvent(o,{detail:i})}catch{var v=document.createEvent("CustomEvent");return v.initCustomEvent(o,!1,!1,i),v}return null},hasOrderIdRecord:function(o){var i=b.str(o.toString()),v=d.local.get(q);return typeof v=="string"&&(v=JSON.parse(v)),v&&v.includes(i)?!0:null},addOrderIdRecord:function(o){var i=b.str(o.toString()),v=d.local.get(q);if(typeof v=="string"&&(v=JSON.parse(v)),v){if(v.includes(i))return;v.length>=10&&(v=v.slice(-9)),v.push(i)}else v=[i];d.local.set(q,v)},applyNetworkTimeout:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,w=o&&o.networkParameters&&o.networkParameters.timeout,C=i&&i.timeout,B=C||w;typeof B=="number"&&v&&setTimeout(function(){return v.abort()},B)},stringify:function(o,i,v){if(!o)return"";var w=[];return Object.keys(o).forEach(function(C){var B=o[C],T=r.encodeURIComponentRFC3986(C),y;if(B!=null){var e=i?"".concat(i,"%5B").concat(T,"%5D"):T;Array.isArray(B)?y=r.stringify(B,e,"array"):(0,E.default)(B)==="object"?y=r.stringify(B,e,"object"):v==="object"?y="".concat(e,"=").concat(r.encodeURIComponentRFC3986(B)):y="".concat(i||T,"=").concat(r.encodeURIComponentRFC3986(B)),w.push(y)}}),w.join("&")},toSnakeCase:function(o){return o.replace(/[A-Z]/g,function(i){return"_".concat(i.toLowerCase())})},toSnakeCaseKeys:function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v={};return Object.keys(o).forEach(function(w){var C=r.toSnakeCase(w);v[C]=i&&(0,E.default)(o[w])==="object"&&!Array.isArray(o[w])?r.toSnakeCaseKeys(o[w],i):o[w]}),v}};return be=r,be}var me,rt;function oe(){if(rt)return me;rt=1;var k=$,E=k(te()),b=k(re()),d=ie(),q=function(){function r(s){var o=this;(0,E.default)(this,r),this.events=[],this.enabled=!(s&&s.enabled===!1),this.waitForBeacon=!(s&&s.waitForBeacon===!1),this.active=this.enabled,this.waitForBeacon&&(this.active=!1,d.canUseDOM()&&(window.ConstructorioAutocomplete||window.ConstructorioBeacon||window.ConstructorioTracker)&&this.enabled&&(this.active=!0,this.dispatchEvents()),d.addEventListener("cio.beacon.loaded",function(){o.enabled&&(o.active=!0,o.dispatchEvents())}))}return(0,b.default)(r,[{key:"queue",value:function(o,i){this.events.push({name:o,data:i}),this.active&&this.dispatchEvents()}},{key:"dispatchEvents",value:function(){for(;this.events.length;){var o=this.events.shift(),i=o.name,v=o.data,w="cio.client.".concat(i);d.dispatchEvent(d.createCustomEvent(w,v))}}}]),r}();return me=q,me}var ke,it;function jt(){if(it)return ke;it=1;var k=$,E=k(te()),b=k(re()),d=oe(),q=ie();function r(o,i,v){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,C=v.apiKey,B=v.version,T=v.serviceUrl,y=v.sessionId,e=v.clientId,t=v.userId,f=v.segments,g=v.testCells,_={c:B};if(_.key=C,_.i=e,_.s=y,!o||typeof o!="string")throw new Error("query is a required parameter of type string");if(g&&Object.keys(g).forEach(function(O){_["ef-".concat(O)]=g[O]}),f&&f.length&&(_.us=f),t&&(_.ui=String(t)),i){var a=i.offset,c=i.page,p=i.resultsPerPage,u=i.filters,n=i.sortBy,m=i.sortOrder,l=i.section,x=i.fmtOptions,S=i.hiddenFields,R=i.hiddenFacets,I=i.variationsMap,j=i.qsParam,U=i.preFilterExpression;q.isNil(a)||(_.offset=a),q.isNil(c)||(_.page=c),q.isNil(p)||(_.num_results_per_page=p),u&&(_.filters=u),n&&(_.sort_by=n),m&&(_.sort_order=m),l&&(_.section=l),x&&(_.fmt_options=x),S&&(_.fmt_options?_.fmt_options.hidden_fields=S:_.fmt_options={hidden_fields:S}),R&&(_.fmt_options?_.fmt_options.hidden_facets=R:_.fmt_options={hidden_facets:R}),I&&(_.variations_map=JSON.stringify(I)),U&&(_.pre_filter_expression=JSON.stringify(U)),j&&(_.qs=JSON.stringify(j))}_._dt=Date.now(),_=q.cleanParams(_);var h=q.stringify(_),A=w?"search/natural_language":"search";return"".concat(T,"/").concat(A,"/").concat(q.encodeURIComponentRFC3986(q.trimNonBreakingSpaces(o)),"?").concat(h)}var s=function(){function o(i){(0,E.default)(this,o),this.options=i||{},this.eventDispatcher=new d(i.eventDispatcher)}return(0,b.default)(o,[{key:"getSearchResults",value:function(v,w){var C=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T,y=this.options.fetch,e;if(typeof AbortController=="function"){var t=new AbortController;e=t&&t.signal,q.applyNetworkTimeout(this.options,B,t)}try{T=r(v,w,this.options)}catch(f){return Promise.reject(f)}return y(T,{signal:e}).then(function(f){return f.ok?f.json():q.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(g){g.result_id=f.result_id}),C.eventDispatcher.queue("search.getSearchResults.completed",f),f;if(f.response&&f.response.redirect)return C.eventDispatcher.queue("search.getSearchResults.completed",f),f;throw new Error("getSearchResults response data is malformed")})}},{key:"getVoiceSearchResults",value:function(v,w){var C=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T,y=this.options.fetch,e;if(typeof AbortController=="function"){var t=new AbortController;e=t&&t.signal,q.applyNetworkTimeout(this.options,B,t)}try{var f=!0;T=r(v,w,this.options,f)}catch(g){return Promise.reject(g)}return y(T,{signal:e}).then(function(g){return g.ok?g.json():q.throwHttpErrorFromResponse(new Error,g)}).then(function(g){if(g.response&&g.response.results)return g.result_id&&g.response.results.forEach(function(_){_.result_id=g.result_id}),C.eventDispatcher.queue("search.getVoiceSearchResults.completed",g),g;if(g.response&&g.response.redirect)return C.eventDispatcher.queue("search.getVoiceSearchResults.completed",g),g;throw new Error("getVoiceSearchResults response data is malformed")})}}]),o}();return ke=s,ke}var Ee={exports:{}},nt;function kt(){return nt||(nt=1,function(k){var E=mt();function b(d,q,r){return q=E(q),q in d?Object.defineProperty(d,q,{value:r,enumerable:!0,configurable:!0,writable:!0}):d[q]=r,d}k.exports=b,k.exports.__esModule=!0,k.exports.default=k.exports}(Ee)),Ee.exports}var qe,ot;function Ft(){if(ot)return qe;ot=1;var k=$,E=k(te()),b=k(re()),d=k(kt());function q(y,e){var t=Object.keys(y);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(y);e&&(f=f.filter(function(g){return Object.getOwnPropertyDescriptor(y,g).enumerable})),t.push.apply(t,f)}return t}function r(y){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?q(Object(t),!0).forEach(function(f){(0,d.default)(y,f,t[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(t)):q(Object(t)).forEach(function(f){Object.defineProperty(y,f,Object.getOwnPropertyDescriptor(t,f))})}return y}var s=oe(),o=ie();function i(y,e){var t=e.apiKey,f=e.version,g=e.sessionId,_=e.clientId,a=e.userId,c=e.segments,p=e.testCells,u={c:f};if(u.key=t,u.i=_,u.s=g,p&&Object.keys(p).forEach(function(L){u["ef-".concat(L)]=p[L]}),c&&c.length&&(u.us=c),a&&(u.ui=String(a)),y){var n=y.page,m=y.offset,l=y.resultsPerPage,x=y.filters,S=y.sortBy,R=y.sortOrder,I=y.section,j=y.fmtOptions,U=y.hiddenFields,h=y.hiddenFacets,A=y.variationsMap,O=y.qsParam,N=y.preFilterExpression;o.isNil(n)||(u.page=n),o.isNil(m)||(u.offset=m),o.isNil(l)||(u.num_results_per_page=l),x&&(u.filters=x),S&&(u.sort_by=S),R&&(u.sort_order=R),I&&(u.section=I),j&&(u.fmt_options=j),U&&(u.fmt_options?u.fmt_options.hidden_fields=U:u.fmt_options={hidden_fields:U}),h&&(u.fmt_options?u.fmt_options.hidden_facets=h:u.fmt_options={hidden_facets:h}),A&&(u.variations_map=JSON.stringify(A)),N&&(u.pre_filter_expression=JSON.stringify(N)),O&&(u.qs=JSON.stringify(O))}return u._dt=Date.now(),u=o.cleanParams(u),u}function v(y,e,t,f){var g=f.serviceUrl;if(!y||typeof y!="string")throw new Error("filterName is a required parameter of type string");if(!e||typeof e!="string")throw new Error("filterValue is a required parameter of type string");var _=i(t,f),a=o.stringify(_);return"".concat(g,"/browse/").concat(o.encodeURIComponentRFC3986(o.trimNonBreakingSpaces(y)),"/").concat(o.encodeURIComponentRFC3986(o.trimNonBreakingSpaces(e)),"?").concat(a)}function w(y,e,t){var f=t.serviceUrl;if(!y||!Array.isArray(y)||!y.length)throw new Error("ids is a required parameter of type array");var g=r(r({},i(e,t)),{},{ids:y}),_=o.stringify(g);return"".concat(f,"/browse/items?").concat(_)}function C(y,e){var t=e.serviceUrl,f=r({},i(y,e));delete f._dt;var g=o.stringify(f);return"".concat(t,"/browse/facets?").concat(g)}function B(y,e,t){var f=t.serviceUrl;if(!y||typeof y!="string")throw new Error("facetName is a required parameter of type string");var g=r({},i(e,t));g.facet_name=y,delete g._dt;var _=o.stringify(g);return"".concat(f,"/browse/facet_options?").concat(_)}var T=function(){function y(e){(0,E.default)(this,y),this.options=e||{},this.eventDispatcher=new s(e.eventDispatcher)}return(0,b.default)(y,[{key:"getBrowseResults",value:function(t,f,g){var _=this,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c,p=this.options.fetch,u;if(typeof AbortController=="function"){var n=new AbortController;u=n&&n.signal,o.applyNetworkTimeout(this.options,a,n)}try{c=v(t,f,g,this.options)}catch(m){return Promise.reject(m)}return p(c,{signal:u}).then(function(m){return m.ok?m.json():o.throwHttpErrorFromResponse(new Error,m)}).then(function(m){if(m.response&&m.response.results)return m.result_id&&m.response.results.forEach(function(l){l.result_id=m.result_id}),_.eventDispatcher.queue("browse.getBrowseResults.completed",m),m;throw new Error("getBrowseResults response data is malformed")})}},{key:"getBrowseResultsForItemIds",value:function(t,f){var g=this,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,c=this.options.fetch,p;if(typeof AbortController=="function"){var u=new AbortController;p=u&&u.signal,o.applyNetworkTimeout(this.options,_,u)}try{a=w(t,f,this.options)}catch(n){return Promise.reject(n)}return c(a,{signal:p}).then(function(n){return n.ok?n.json():o.throwHttpErrorFromResponse(new Error,n)}).then(function(n){if(n.response&&n.response.results)return n.result_id&&n.response.results.forEach(function(m){m.result_id=n.result_id}),g.eventDispatcher.queue("browse.getBrowseResultsForItemIds.completed",n),n;throw new Error("getBrowseResultsForItemIds response data is malformed")})}},{key:"getBrowseGroups",value:function(t){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=this.options.fetch,a=this.options.serviceUrl,c=i(t,this.options),p;if(typeof AbortController=="function"){var u=new AbortController;p=u&&u.signal,o.applyNetworkTimeout(this.options,g,u)}delete c._dt;var n=o.stringify(c),m="".concat(a,"/browse/groups?").concat(n);return _(m,{signal:p}).then(function(l){return l.ok?l.json():o.throwHttpErrorFromResponse(new Error,l)}).then(function(l){if(l.response&&l.response.groups)return f.eventDispatcher.queue("browse.getBrowseGroups.completed",l),l;throw new Error("getBrowseGroups response data is malformed")})}},{key:"getBrowseFacets",value:function(t,f){var g=this,_,a=this.options.fetch,c;if(typeof AbortController=="function"){var p=new AbortController;c=p&&p.signal,o.applyNetworkTimeout(this.options,f,p)}try{_=C(t,this.options)}catch(u){return Promise.reject(u)}return a(_,{signal:c}).then(function(u){return u.ok?u.json():o.throwHttpErrorFromResponse(new Error,u)}).then(function(u){if(u.response&&u.response.facets)return g.eventDispatcher.queue("browse.getBrowseFacets.completed",u),u;throw new Error("getBrowseFacets response data is malformed")})}},{key:"getBrowseFacetOptions",value:function(t){var f=this,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,c=this.options.fetch,p;if(typeof AbortController=="function"){var u=new AbortController;p=u&&u.signal,o.applyNetworkTimeout(this.options,_,u)}try{a=B(t,g,this.options)}catch(n){return Promise.reject(n)}return c(a,{signal:p}).then(function(n){return n.ok?n.json():o.throwHttpErrorFromResponse(new Error,n)}).then(function(n){if(n.response&&n.response.facets)return f.eventDispatcher.queue("browse.getBrowseFacetOptions.completed",n),n;throw new Error("getBrowseFacetOptions response data is malformed")})}}]),y}();return qe=T,qe}var Se,st;function Pt(){if(st)return Se;st=1;var k=$,E=k(te()),b=k(re()),d=oe(),q=ie(),r=q.throwHttpErrorFromResponse,s=q.cleanParams,o=q.applyNetworkTimeout,i=q.trimNonBreakingSpaces,v=q.encodeURIComponentRFC3986,w=q.stringify;function C(T,y,e){var t=e.apiKey,f=e.version,g=e.serviceUrl,_=e.sessionId,a=e.clientId,c=e.userId,p=e.segments,u=e.testCells,n={c:f};if(n.key=t,n.i=a,n.s=_,!T||typeof T!="string")throw new Error("query is a required parameter of type string");if(u&&Object.keys(u).forEach(function(U){n["ef-".concat(U)]=u[U]}),p&&p.length&&(n.us=p),c&&(n.ui=String(c)),y){var m=y.numResults,l=y.resultsPerSection,x=y.filters,S=y.hiddenFields,R=y.variationsMap;m&&(n.num_results=m),l&&Object.keys(l).forEach(function(U){n["num_results_".concat(U)]=l[U]}),x&&(n.filters=x),S&&(n.fmt_options?n.fmt_options.hidden_fields=S:n.fmt_options={hidden_fields:S}),R&&(n.variations_map=JSON.stringify(R))}n._dt=Date.now(),n=s(n);var I=w(n),j=T.replace(/^\//,"|");return"".concat(g,"/autocomplete/").concat(v(i(j)),"?").concat(I)}var B=function(){function T(y){(0,E.default)(this,T),this.options=y||{},this.eventDispatcher=new d(y.eventDispatcher)}return(0,b.default)(T,[{key:"getAutocompleteResults",value:function(e,t){var f=this,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_,a=this.options.fetch,c;if(typeof AbortController=="function"){var p=new AbortController;c=p&&p.signal,o(this.options,g,p)}try{_=C(e,t,this.options)}catch(u){return Promise.reject(u)}return a(_,{signal:c}).then(function(u){return u.ok?u.json():r(new Error,u)}).then(function(u){if(u.sections){if(u.result_id){var n=Object.keys(u.sections);n.forEach(function(m){var l=u.sections[m];l.length&&l.forEach(function(x){x.result_id=u.result_id})})}return f.eventDispatcher.queue("autocomplete.getAutocompleteResults.completed",u),u}throw new Error("getAutocompleteResults response data is malformed")})}}]),T}();return Se=B,Se}var Ae,ut;function Mt(){if(ut)return Ae;ut=1;var k=$,E=k(te()),b=k(re()),d=oe(),q=ie();function r(o,i,v){var w=v.apiKey,C=v.version,B=v.serviceUrl,T=v.sessionId,y=v.userId,e=v.clientId,t=v.segments,f={c:C};if(f.key=w,f.i=e,f.s=T,!o||typeof o!="string")throw new Error("podId is a required parameter of type string");if(t&&t.length&&(f.us=t),y&&(f.ui=String(y)),i){var g=i.numResults,_=i.itemIds,a=i.section,c=i.term,p=i.filters,u=i.variationsMap,n=i.hiddenFields;q.isNil(g)||(f.num_results=g),_&&(f.item_id=_),a&&(f.section=a),c&&(f.term=c),p&&(f.filters=p),n&&(f.fmt_options?f.fmt_options.hidden_fields=n:f.fmt_options={hidden_fields:n}),u&&(f.variations_map=JSON.stringify(u))}f=q.cleanParams(f);var m=q.stringify(f);return"".concat(B,"/recommendations/v1/pods/").concat(q.encodeURIComponentRFC3986(q.trimNonBreakingSpaces(o)),"?").concat(m)}var s=function(){function o(i){(0,E.default)(this,o),this.options=i||{},this.eventDispatcher=new d(i.eventDispatcher)}return(0,b.default)(o,[{key:"getRecommendations",value:function(v,w){var C=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T,y=this.options.fetch,e;if(typeof AbortController=="function"){var t=new AbortController;e=t&&t.signal,q.applyNetworkTimeout(this.options,B,t)}try{T=r(v,w,this.options)}catch(f){return Promise.reject(f)}return y(T,{signal:e}).then(function(f){return f.ok?f.json():q.throwHttpErrorFromResponse(new Error,f)}).then(function(f){if(f.response&&f.response.results)return f.result_id&&f.response.results.forEach(function(g){g.result_id=f.result_id}),C.eventDispatcher.queue("recommendations.getRecommendations.completed",f),f;throw new Error("getRecommendations response data is malformed")})}}]),o}();return Ae=s,Ae}var ce={exports:{}},at;function zt(){if(at)return ce.exports;at=1;var k=typeof Reflect=="object"?Reflect:null,E=k&&typeof k.apply=="function"?k.apply:function(c,p,u){return Function.prototype.apply.call(c,p,u)},b;k&&typeof k.ownKeys=="function"?b=k.ownKeys:Object.getOwnPropertySymbols?b=function(c){return Object.getOwnPropertyNames(c).concat(Object.getOwnPropertySymbols(c))}:b=function(c){return Object.getOwnPropertyNames(c)};function d(a){console&&console.warn&&console.warn(a)}var q=Number.isNaN||function(c){return c!==c};function r(){r.init.call(this)}ce.exports=r,ce.exports.once=f,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._eventsCount=0,r.prototype._maxListeners=void 0;var s=10;function o(a){if(typeof a!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(a){if(typeof a!="number"||a<0||q(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");s=a}}),r.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},r.prototype.setMaxListeners=function(c){if(typeof c!="number"||c<0||q(c))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+c+".");return this._maxListeners=c,this};function i(a){return a._maxListeners===void 0?r.defaultMaxListeners:a._maxListeners}r.prototype.getMaxListeners=function(){return i(this)},r.prototype.emit=function(c){for(var p=[],u=1;u<arguments.length;u++)p.push(arguments[u]);var n=c==="error",m=this._events;if(m!==void 0)n=n&&m.error===void 0;else if(!n)return!1;if(n){var l;if(p.length>0&&(l=p[0]),l instanceof Error)throw l;var x=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw x.context=l,x}var S=m[c];if(S===void 0)return!1;if(typeof S=="function")E(S,this,p);else for(var R=S.length,I=y(S,R),u=0;u<R;++u)E(I[u],this,p);return!0};function v(a,c,p,u){var n,m,l;if(o(p),m=a._events,m===void 0?(m=a._events=Object.create(null),a._eventsCount=0):(m.newListener!==void 0&&(a.emit("newListener",c,p.listener?p.listener:p),m=a._events),l=m[c]),l===void 0)l=m[c]=p,++a._eventsCount;else if(typeof l=="function"?l=m[c]=u?[p,l]:[l,p]:u?l.unshift(p):l.push(p),n=i(a),n>0&&l.length>n&&!l.warned){l.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=a,x.type=c,x.count=l.length,d(x)}return a}r.prototype.addListener=function(c,p){return v(this,c,p,!1)},r.prototype.on=r.prototype.addListener,r.prototype.prependListener=function(c,p){return v(this,c,p,!0)};function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(a,c,p){var u={fired:!1,wrapFn:void 0,target:a,type:c,listener:p},n=w.bind(u);return n.listener=p,u.wrapFn=n,n}r.prototype.once=function(c,p){return o(p),this.on(c,C(this,c,p)),this},r.prototype.prependOnceListener=function(c,p){return o(p),this.prependListener(c,C(this,c,p)),this},r.prototype.removeListener=function(c,p){var u,n,m,l,x;if(o(p),n=this._events,n===void 0)return this;if(u=n[c],u===void 0)return this;if(u===p||u.listener===p)--this._eventsCount===0?this._events=Object.create(null):(delete n[c],n.removeListener&&this.emit("removeListener",c,u.listener||p));else if(typeof u!="function"){for(m=-1,l=u.length-1;l>=0;l--)if(u[l]===p||u[l].listener===p){x=u[l].listener,m=l;break}if(m<0)return this;m===0?u.shift():e(u,m),u.length===1&&(n[c]=u[0]),n.removeListener!==void 0&&this.emit("removeListener",c,x||p)}return this},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(c){var p,u,n;if(u=this._events,u===void 0)return this;if(u.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):u[c]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete u[c]),this;if(arguments.length===0){var m=Object.keys(u),l;for(n=0;n<m.length;++n)l=m[n],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(p=u[c],typeof p=="function")this.removeListener(c,p);else if(p!==void 0)for(n=p.length-1;n>=0;n--)this.removeListener(c,p[n]);return this};function B(a,c,p){var u=a._events;if(u===void 0)return[];var n=u[c];return n===void 0?[]:typeof n=="function"?p?[n.listener||n]:[n]:p?t(n):y(n,n.length)}r.prototype.listeners=function(c){return B(this,c,!0)},r.prototype.rawListeners=function(c){return B(this,c,!1)},r.listenerCount=function(a,c){return typeof a.listenerCount=="function"?a.listenerCount(c):T.call(a,c)},r.prototype.listenerCount=T;function T(a){var c=this._events;if(c!==void 0){var p=c[a];if(typeof p=="function")return 1;if(p!==void 0)return p.length}return 0}r.prototype.eventNames=function(){return this._eventsCount>0?b(this._events):[]};function y(a,c){for(var p=new Array(c),u=0;u<c;++u)p[u]=a[u];return p}function e(a,c){for(;c+1<a.length;c++)a[c]=a[c+1];a.pop()}function t(a){for(var c=new Array(a.length),p=0;p<c.length;++p)c[p]=a[p].listener||a[p];return c}function f(a,c){return new Promise(function(p,u){function n(l){a.removeListener(c,m),u(l)}function m(){typeof a.removeListener=="function"&&a.removeListener("error",n),p([].slice.call(arguments))}_(a,c,m,{once:!0}),c!=="error"&&g(a,n,{once:!0})})}function g(a,c,p){typeof a.on=="function"&&_(a,"error",c,p)}function _(a,c,p,u){if(typeof a.on=="function")u.once?a.once(c,p):a.on(c,p);else if(typeof a.addEventListener=="function")a.addEventListener(c,function n(m){u.once&&a.removeEventListener(c,n),p(m)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a)}return ce.exports}var xe,ct;function Ht(){return ct||(ct=1,xe=["Googlebot/","Googlebot-Mobile","Googlebot-Image","Googlebot-News","Googlebot-Video","AdsBot-Google([^-]|$)","AdsBot-Google-Mobile","Feedfetcher-Google","Mediapartners-Google","Mediapartners \\(Googlebot\\)","APIs-Google","bingbot","Slurp","[wW]get","curl","LinkedInBot","Python-urllib","python-requests","libwww","httpunit","nutch","Go-http-client","phpcrawl","msnbot","jyxobot","FAST-WebCrawler","FAST Enterprise Crawler","BIGLOTRON","Teoma","convera","seekbot","Gigabot","Gigablast","exabot","ia_archiver","GingerCrawler","webmon ","HTTrack","grub\\.org","UsineNouvelleCrawler","antibot","netresearchserver","speedy","fluffy","bibnum\\.bnf","findlink","msrbot","panscient","yacybot","AISearchBot","ips-agent","tagoobot","MJ12bot","woriobot","yanga","buzzbot","mlbot","YandexBot","yandex\\.com/bots","purebot","Linguee Bot","CyberPatrol","voilabot","Baiduspider","citeseerxbot","spbot","twengabot","postrank","turnitinbot","scribdbot","page2rss","sitebot","linkdex","Adidxbot","blekkobot","ezooms","dotbot","Mail\\.RU_Bot","discobot","heritrix","findthatfile","europarchive\\.org","NerdByNature\\.Bot","sistrix crawler","Ahrefs(Bot|SiteAudit)","fuelbot","CrunchBot","centurybot9","IndeedBot","mappydata","woobot","ZoominfoBot","PrivacyAwareBot","Multiviewbot","SWIMGBot","Grobbot","eright","Apercite","semanticbot","Aboundex","domaincrawler","wbsearchbot","summify","CCBot","edisterbot","seznambot","ec2linkfinder","gslfbot","aiHitBot","intelium_bot","facebookexternalhit","Yeti","RetrevoPageAnalyzer","lb-spider","Sogou","lssbot","careerbot","wotbox","wocbot","ichiro","DuckDuckBot","lssrocketcrawler","drupact","webcompanycrawler","acoonbot","openindexspider","gnam gnam spider","web-archive-net\\.com\\.bot","backlinkcrawler","coccoc","integromedb","content crawler spider","toplistbot","it2media-domain-crawler","ip-web-crawler\\.com","siteexplorer\\.info","elisabot","proximic","changedetection","arabot","WeSEE:Search","niki-bot","CrystalSemanticsBot","rogerbot","360Spider","psbot","InterfaxScanBot","CC Metadata Scaper","g00g1e\\.net","GrapeshotCrawler","urlappendbot","brainobot","fr-crawler","binlar","SimpleCrawler","Twitterbot","cXensebot","smtbot","bnf\\.fr_bot","A6-Indexer","ADmantX","Facebot","OrangeBot/","memorybot","AdvBot","MegaIndex","SemanticScholarBot","ltx71","nerdybot","xovibot","BUbiNG","Qwantify","archive\\.org_bot","Applebot","TweetmemeBot","crawler4j","findxbot","S[eE][mM]rushBot","yoozBot","lipperhey","Y!J","Domain Re-Animator Bot","AddThis","Screaming Frog SEO Spider","MetaURI","Scrapy","Livelap[bB]ot","OpenHoseBot","CapsuleChecker","collection@infegy\\.com","IstellaBot","DeuSu/","betaBot","Cliqzbot/","MojeekBot/","netEstate NE Crawler","SafeSearch microdata crawler","Gluten Free Crawler/","Sonic","Sysomos","Trove","deadlinkchecker","Slack-ImgProxy","Embedly","RankActiveLinkBot","iskanie","SafeDNSBot","SkypeUriPreview","Veoozbot","Slackbot","redditbot","datagnionbot","Google-Adwords-Instant","adbeat_bot","WhatsApp","contxbot","pinterest","electricmonk","GarlikCrawler","BingPreview/","vebidoobot","FemtosearchBot","Yahoo Link Preview","MetaJobBot","DomainStatsBot","mindUpBot","Daum/","Jugendschutzprogramm-Crawler","Xenu Link Sleuth","Pcore-HTTP","moatbot","KosmioBot","pingdom","PhantomJS","Gowikibot","PiplBot","Discordbot","TelegramBot","Jetslide","newsharecounts","James BOT","Barkrowler","TinEye","SocialRankIOBot","trendictionbot","Ocarinabot","epicbot","Primalbot","DuckDuckGo-Favicons-Bot","GnowitNewsbot","Leikibot","LinkArchiver","YaK/","PaperLiBot","Digg Deeper","dcrawl","Snacktory","AndersPinkBot","Fyrebot","EveryoneSocialBot","Mediatoolkitbot","Luminator-robots","ExtLinksBot","SurveyBot","NING/","okhttp","Nuzzel","omgili","PocketParser","YisouSpider","um-LN","ToutiaoSpider","MuckRack","Jamie's Spider","AHC/","NetcraftSurveyAgent","Laserlikebot","Apache-HttpClient","AppEngine-Google","Jetty","Upflow","Thinklab","Traackr\\.com","Twurly","Mastodon","http_get","DnyzBot","botify","007ac9 Crawler","BehloolBot","BrandVerity","check_http","BDCbot","ZumBot","EZID","ICC-Crawler","ArchiveBot","^LCC ","filterdb\\.iss\\.net/crawler","BLP_bbot","BomboraBot","Buck/","Companybook-Crawler","Genieo","magpie-crawler","MeltwaterNews","Moreover","newspaper/","ScoutJet","(^| )sentry/","StorygizeBot","UptimeRobot","OutclicksBot","seoscanners","Hatena","Google Web Preview","MauiBot","AlphaBot","SBL-BOT","IAS crawler","adscanner","Netvibes","acapbot","Baidu-YunGuanCe","bitlybot","blogmuraBot","Bot\\.AraTurka\\.com","bot-pge\\.chlooe\\.com","BoxcarBot","BTWebClient","ContextAd Bot","Digincore bot","Disqus","Feedly","Fetch/","Fever","Flamingo_SearchEngine","FlipboardProxy","g2reader-bot","imrbot","K7MLWCBot","Kemvibot","Landau-Media-Spider","linkapediabot","vkShare","Siteimprove\\.com","BLEXBot/","DareBoost","ZuperlistBot/","Miniflux/","Feedspotbot/","Diffbot/","SEOkicks","tracemyfile","Nimbostratus-Bot"]),xe}var Ce,ft;function Gt(){if(ft)return Ce;ft=1;var k=$,E=k(te()),b=k(re()),d=je(),q=Ht(),r=ie(),s="_constructorio_is_human",o=["scroll","resize","touchmove","mouseover","mousemove","keydown","keypress","keyup","focus"],i=function(){function v(){var w=this;(0,E.default)(this,v),this.isHumanBoolean=this.getIsHumanFromSessionStorage();var C=function B(){w.isHumanBoolean=!0,d.session.set(s,!0),o.forEach(function(T){r.removeEventListener(T,B,!0)})};this.isHumanBoolean||o.forEach(function(B){r.addEventListener(B,C,!0)})}return(0,b.default)(v,[{key:"getIsHumanFromSessionStorage",value:function(){return!!d.session.get(s)||!1}},{key:"isHuman",value:function(){return this.isHumanBoolean||!!d.session.get(s)}},{key:"isBot",value:function(){if(this.getIsHumanFromSessionStorage())return!1;var C=r.getNavigator(),B=C.userAgent,T=C.webdriver,y=new RegExp("(".concat(q.join("|"),")"));return!!B.match(y)||!!T}}]),v}();return Ce=i,Ce}var Re,lt;function Vt(){if(lt)return Re;lt=1;var k=$,E=k(te()),b=k(re()),d=je(),q=Gt(),r=ie(),s="_constructorio_requests",o=18e4,i=function(){function v(w,C){var B=this;(0,E.default)(this,v),this.options=w,this.eventemitter=C,this.humanity=new q,this.requestPending=!1,this.pageUnloading=!1,this.sendTrackingEvents=!!(w&&w.sendTrackingEvents===!0),r.addEventListener("beforeunload",function(){B.pageUnloading=!0}),this.sendTrackingEvents&&this.send()}return(0,b.default)(v,[{key:"queue",value:function(C){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"GET",T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(this.sendTrackingEvents&&!this.humanity.isBot()){var e=v.get();e.push({url:C,method:B,body:T,networkParameters:y}),v.set(e)}}},{key:"sendEvents",value:function(){var C=this,B=this.options.fetch,T=v.get();if((!r.canUseDOM()||this.humanity.isHuman())&&!this.requestPending&&!this.pageUnloading&&T.length){var y,e=T.shift(),t=e,f=t.networkParameters,g,_=this;if(v.set(T),f&&typeof AbortController=="function"){var a=new AbortController;g=a.signal,r.applyNetworkTimeout(this.options,f,a)}if(typeof e=="string"&&(e={url:e,method:"GET"}),e.url){var c=e.url.match(/\?.*_dt=([^&]+)/),p=parseInt(c&&c[1],10),u=+new Date;if(p&&Number.isInteger(p)&&u-p>o){this.sendTrackingEvents=!1,v.remove();return}}e.method==="GET"&&(y=B(e.url,{signal:g})),e.method==="POST"&&(y=B(e.url,{method:e.method,body:JSON.stringify(e.body),mode:"cors",headers:{"Content-Type":"text/plain"},signal:g})),y&&(this.requestPending=!0,y.then(function(n){n.ok?(_.eventemitter&&_.eventemitter.emit("success",{url:e.url,method:e.method,message:"ok"}),C.requestPending=!1,C.send()):n.json().then(function(m){_.eventemitter&&_.eventemitter.emit("error",{url:e.url,method:e.method,message:m&&m.message}),C.requestPending=!1,C.send()}).catch(function(m){_.eventemitter&&_.eventemitter.emit("error",{url:e.url,method:e.method,message:m.type}),C.requestPending=!1,C.send()})}).catch(function(n){_.eventemitter&&_.eventemitter.emit("error",{url:e.url,method:e.method,message:n&&n.toString&&n.toString()}),C.requestPending=!1,C.send()}))}}},{key:"send",value:function(){this.sendTrackingEvents&&(this.options&&this.options.trackingSendDelay===0?this.sendEvents():setTimeout(this.sendEvents.bind(this),this.options&&this.options.trackingSendDelay||250))}}],[{key:"get",value:function(){return d.local.get(s)||[]}},{key:"set",value:function(C){!C||Array.isArray(C)&&C.length===0?v.remove():d.local.set(s,C);var B=v.get();Array.isArray(B)&&B.length!==C.length&&(this.sendTrackingEvents=!1,v.remove())}},{key:"remove",value:function(){d.local.remove(s)}}]),v}();return Re=i,Re}var Oe,ht;function Kt(){if(ht)return Oe;ht=1;var k=$,E=k(kt()),b=k(ue()),d=k(te()),q=k(re());function r(T,y){var e=Object.keys(T);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(T);y&&(t=t.filter(function(f){return Object.getOwnPropertyDescriptor(T,f).enumerable})),e.push.apply(e,t)}return e}function s(T){for(var y=1;y<arguments.length;y++){var e=arguments[y]!=null?arguments[y]:{};y%2?r(Object(e),!0).forEach(function(t){(0,E.default)(T,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach(function(t){Object.defineProperty(T,t,Object.getOwnPropertyDescriptor(e,t))})}return T}var o=zt(),i=ie(),v=Vt();function w(T,y){var e=y.apiKey,t=y.version,f=y.sessionId,g=y.clientId,_=y.userId,a=y.segments,c=y.testCells,p=y.requestMethod,u=y.beaconMode,n=i.getWindowLocation(),m=n.host,l=n.pathname,x=y.sendReferrerWithTrackingEvents!==!1,S=Object.assign(T);return t&&(S.c=t),g&&(S.i=g),f&&(S.s=f),_&&(S.ui=String(_)),a&&a.length&&(S.us=a),e&&(S.key=e),c&&Object.keys(c).forEach(function(R){S["ef-".concat(R)]=c[R]}),u&&p&&p.match(/POST/i)&&(S.beacon=!0),x&&m&&(S.origin_referrer=m,l&&(S.origin_referrer+=l)),S._dt=Date.now(),S=i.cleanParams(S),S}function C(T,y){return i.stringify(w(T,y))}var B=function(){function T(y){(0,d.default)(this,T),this.options=y||{},this.eventemitter=new o,this.requests=new v(y,this.eventemitter),this.behavioralV2Url="https://ac.cnstrc.com/v2/behavioral_action/"}return(0,q.default)(T,[{key:"trackSessionStartV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="".concat(this.behavioralV2Url,"session_start?");return this.requests.queue("".concat(t).concat(C({},this.options)),"POST",void 0,e),this.requests.send(),!0}},{key:"trackSessionStart",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="".concat(this.options.serviceUrl,"/behavior?"),f={action:"session_start"};return this.requests.queue("".concat(t).concat(C(f,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackInputFocusV2",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f="".concat(this.behavioralV2Url,"focus?"),g={},_=t,a=e;(0,b.default)(e)==="object"&&(_=e,a=""),g.user_input=a;var c="POST",p=w(g,s(s({},this.options),{},{requestMethod:c}));return this.requests.queue("".concat(f).concat(C({},this.options)),c,p,_),this.requests.send(),!0}},{key:"trackInputFocus",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t="".concat(this.options.serviceUrl,"/behavior?"),f={action:"focus"};return this.requests.queue("".concat(t).concat(C(f,this.options)),void 0,void 0,e),this.requests.send(),!0}},{key:"trackItemDetailLoad",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,b.default)(e)==="object"&&!Array.isArray(e)){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/item_detail_load?"),g={},_={},a=e.item_name,c=e.name,p=e.item_id,u=e.customer_id,n=e.customerId,m=n===void 0?u:n,l=e.variation_id,x=e.itemName,S=x===void 0?a||c:x,R=e.itemId,I=R===void 0?p||m:R,j=e.variationId,U=j===void 0?l:j,h=e.url;S&&(_.item_name=S),I&&(_.item_id=I),U&&(_.variation_id=U),h&&(_.url=h);var A="".concat(f).concat(C(g,this.options)),O="POST",N=w(_,s(s({},this.options),{},{requestMethod:O}));return this.requests.queue(A,O,N,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackAutocompleteSelectV2",value:function(e,t){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,b.default)(t)==="object"&&!Array.isArray(t)){var g="".concat(this.behavioralV2Url,"autocomplete_select?"),_=t.original_query,a=t.originalQuery,c=a===void 0?_:a,p=t.user_input,u=t.userInput,n=u===void 0?c||p:u,m=t.original_section,l=t.section,x=l===void 0?m:l,S=t.tr,R=t.group_id,I=t.groupId,j=I===void 0?R:I,U=t.item_id,h=t.itemId,A=h===void 0?U:h,O=t.variation_id,N=t.variationId,L=N===void 0?O:N,D={},M={user_input:n,tr:S,group_id:j,item_id:A,variation_id:L,item_name:e,section:x};x&&(D.section=x);var P="".concat(g).concat(C(D,this.options)),F="POST",H=w(M,s(s({},this.options),{},{requestMethod:F}));return this.requests.queue(P,F,H,f),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackAutocompleteSelect",value:function(e,t){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,b.default)(t)==="object"&&!Array.isArray(t)){var g="".concat(this.options.serviceUrl,"/autocomplete/").concat(i.encodeURIComponentRFC3986(i.trimNonBreakingSpaces(e)),"/select?"),_={},a=t.original_query,c=t.originalQuery,p=c===void 0?a:c,u=t.section,n=t.original_section,m=t.originalSection,l=m===void 0?n:m,x=t.tr,S=t.group_id,R=t.groupId,I=R===void 0?S:R,j=t.display_name,U=t.displayName,h=U===void 0?j:U;return p&&(_.original_query=p),x&&(_.tr=x),(l||u)&&(_.section=l||u),I&&(_.group={group_id:I,display_name:h}),this.requests.queue("".concat(g).concat(C(_,this.options)),void 0,void 0,f),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmitV2",value:function(e,t){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,b.default)(t)==="object"&&!Array.isArray(t)){var g="".concat(this.behavioralV2Url,"search_submit?"),_=t.original_query,a=t.originalQuery,c=a===void 0?_:a,p=t.user_input,u=t.userInput,n=u===void 0?c||p:u,m=t.group_id,l=t.groupId,x=l===void 0?m:l,S=t.section,R={},I={user_input:n,search_term:e,section:S};x&&(I.filters={group_id:x}),S&&(R.section=S);var j="".concat(g).concat(C(R,this.options)),U="POST",h=w(I,s(s({},this.options),{},{requestMethod:U}));return this.requests.queue(j,U,h,f),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchSubmit",value:function(e,t){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,b.default)(t)==="object"&&!Array.isArray(t)){var g="".concat(this.options.serviceUrl,"/autocomplete/").concat(i.encodeURIComponentRFC3986(i.trimNonBreakingSpaces(e)),"/search?"),_={},a=t.original_query,c=t.originalQuery,p=c===void 0?a:c,u=t.group_id,n=t.groupId,m=n===void 0?u:n,l=t.display_name,x=t.displayName,S=x===void 0?l:x;return p&&(_.original_query=p),m&&(_.group={group_id:m,display_name:S}),this.requests.queue("".concat(g).concat(C(_,this.options)),void 0,void 0,f),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoadedV2",value:function(e,t){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,b.default)(t)==="object"&&!Array.isArray(t)){var g="".concat(this.behavioralV2Url,"search_result_load?"),_=t.num_results,a=t.numResults,c=a===void 0?_:a,p=t.result_count,u=t.resultCount,n=u===void 0?c||p:u,m=t.customer_ids,l=t.item_ids,x=t.items,S=x===void 0?m||l:x,R=t.result_page,I=t.resultPage,j=I===void 0?R:I,U=t.result_id,h=t.resultId,A=h===void 0?U:h,O=t.sort_order,N=t.sortOrder,L=N===void 0?O:N,D=t.sort_by,M=t.sortBy,P=M===void 0?D:M,F=t.selected_filters,H=t.selectedFilters,K=H===void 0?F:H,G=t.url,W=t.section,V={},z;S&&Array.isArray(S)&&S.length!==0&&(z=S,typeof S[0]=="string"||typeof S[0]=="number"?z=S.map(function(Z){return{item_id:String(Z)}}):z=S.map(function(Z){return i.toSnakeCaseKeys(Z,!1)})),W&&(V.section=W);var Y={search_term:e,result_count:n,items:z,result_page:j,result_id:A,sort_order:L,sort_by:P,selected_filters:K,url:G,section:W},Q="".concat(g).concat(C(V,this.options)),X="POST",J=w(Y,s(s({},this.options),{},{requestMethod:X}));return this.requests.queue(Q,X,J,f),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultsLoaded",value:function(e,t){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,b.default)(t)==="object"&&!Array.isArray(t)){var g="".concat(this.options.serviceUrl,"/behavior?"),_={action:"search-results",term:e},a=t.num_results,c=t.numResults,p=c===void 0?a:c,u=t.customer_ids,n=t.customerIds,m=n===void 0?u:n,l=t.item_ids,x=t.itemIds,S=x===void 0?l:x,R;return i.isNil(p)||(_.num_results=p),S&&Array.isArray(S)?R=S:m&&Array.isArray(m)&&(R=m),R&&Array.isArray(R)&&R.length&&(_.customer_ids=R.slice(0,100).join(",")),this.requests.queue("".concat(g).concat(C(_,this.options)),void 0,void 0,f),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClickV2",value:function(e,t){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,b.default)(t)==="object"&&!Array.isArray(t)){var g="".concat(this.behavioralV2Url,"search_result_click?"),_=t.num_results,a=t.customer_id,c=t.item_id,p=t.itemId,u=p===void 0?a||c:p,n=t.name,m=t.item_name,l=t.itemName,x=l===void 0?n||m:l,S=t.variation_id,R=t.variationId,I=R===void 0?S:R,j=t.result_id,U=t.resultId,h=U===void 0?j:U,A=t.result_count,O=t.resultCount,N=O===void 0?_||A:O,L=t.result_page,D=t.resultPage,M=D===void 0?L:D,P=t.result_position_on_page,F=t.resultPositionOnPage,H=F===void 0?P:F,K=t.num_results_per_page,G=t.numResultsPerPage,W=G===void 0?K:G,V=t.selected_filters,z=t.selectedFilters,Y=z===void 0?V:z,Q=t.section,X={item_name:x,item_id:u,variation_id:I,result_id:h,result_count:N,result_page:M,result_position_on_page:H,num_results_per_page:W,selected_filters:Y,section:Q,search_term:e},J={};Q&&(J.section=Q);var Z="".concat(g).concat(C(J,this.options)),ee="POST",se=w(X,s(s({},this.options),{},{requestMethod:ee}));return this.requests.queue(Z,ee,se,f),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackSearchResultClick",value:function(e,t){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e&&typeof e=="string"){if(t&&(0,b.default)(t)==="object"&&!Array.isArray(t)){var g="".concat(this.options.serviceUrl,"/autocomplete/").concat(i.encodeURIComponentRFC3986(i.trimNonBreakingSpaces(e)),"/click_through?"),_={},a=t.item_name,c=t.name,p=t.itemName,u=p===void 0?a||c:p,n=t.item_id,m=t.itemId,l=m===void 0?n:m,x=t.customer_id,S=t.customerId,R=S===void 0?x||l:S,I=t.variation_id,j=t.variationId,U=j===void 0?I:j,h=t.result_id,A=t.resultId,O=A===void 0?h:A,N=t.item_is_convertible,L=t.itemIsConvertible,D=L===void 0?N:L,M=t.section;return u&&(_.name=u),R&&(_.customer_id=R),U&&(_.variation_id=U),O&&(_.result_id=O),typeof D=="boolean"&&(_.item_is_convertible=D),M&&(_.section=M),this.requests.queue("".concat(g).concat(C(_,this.options)),void 0,void 0,f),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}return this.requests.send(),new Error("term is a required parameter of type string")}},{key:"trackConversion",value:function(e,t){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t&&(0,b.default)(t)==="object"&&!Array.isArray(t)){var g=e||"TERM_UNKNOWN",_="".concat(this.options.serviceUrl,"/v2/behavioral_action/conversion?"),a={},c={},p=t.name,u=t.item_name,n=t.itemName,m=n===void 0?u||p:n,l=t.customer_id,x=t.customerId,S=x===void 0?l:x,R=t.item_id,I=t.itemId,j=I===void 0?R||S:I,U=t.variation_id,h=t.variationId,A=h===void 0?U:h,O=t.revenue,N=t.section,L=N===void 0?"Products":N,D=t.display_name,M=t.displayName,P=M===void 0?D:M,F=t.type,H=t.is_custom_type,K=t.isCustomType,G=K===void 0?H:K;j&&(c.item_id=j),m&&(c.item_name=m),A&&(c.variation_id=A),(O||O===0)&&(c.revenue=O.toString()),L&&(a.section=L,c.section=L),g&&(c.search_term=g),F&&(c.type=F),G&&(c.is_custom_type=G),P&&(c.display_name=P);var W="".concat(_).concat(C(a,this.options)),V="POST",z=w(c,s(s({},this.options),{},{requestMethod:V}));return this.requests.queue(W,V,z,f),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackPurchase",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,b.default)(e)==="object"&&!Array.isArray(e)){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/purchase?"),g={},_={},a=e.items,c=e.revenue,p=e.order_id,u=e.orderId,n=u===void 0?p:u,m=e.section;if(n){if(i.hasOrderIdRecord(n))return!1;i.addOrderIdRecord(n),_.order_id=n}a&&Array.isArray(a)&&(_.items=a.slice(0,100).map(function(R){return i.toSnakeCaseKeys(R,!1)})),(c||c===0)&&(_.revenue=c),m?g.section=m:g.section="Products";var l="".concat(f).concat(C(g,this.options)),x="POST",S=w(_,s(s({},this.options),{},{requestMethod:x}));return this.requests.queue(l,x,S,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationView",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,b.default)(e)==="object"&&!Array.isArray(e)){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_view?"),g={},_=e.result_count,a=e.resultCount,c=a===void 0?_:a,p=e.result_page,u=e.resultPage,n=u===void 0?p:u,m=e.result_id,l=e.resultId,x=l===void 0?m:l,S=e.section,R=e.url,I=e.pod_id,j=e.podId,U=j===void 0?I:j,h=e.num_results_viewed,A=e.numResultsViewed,O=A===void 0?h:A,N=e.items;i.isNil(c)||(g.result_count=c),i.isNil(n)||(g.result_page=n),x&&(g.result_id=x),S?g.section=S:g.section="Products",R&&(g.url=R),U&&(g.pod_id=U),i.isNil(O)||(g.num_results_viewed=O),N&&Array.isArray(N)&&(g.items=N.slice(0,100).map(function(P){return i.toSnakeCaseKeys(P,!1)}));var L="".concat(f).concat(C({},this.options)),D="POST",M=w(g,s(s({},this.options),{},{requestMethod:D}));return this.requests.queue(L,D,M,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackRecommendationClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,b.default)(e)==="object"&&!Array.isArray(e)){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/recommendation_result_click?"),g={},_=e.variation_id,a=e.variationId,c=a===void 0?_:a,p=e.section,u=p===void 0?"Products":p,n=e.result_id,m=e.resultId,l=m===void 0?n:m,x=e.result_count,S=e.resultCount,R=S===void 0?x:S,I=e.result_page,j=e.resultPage,U=j===void 0?I:j,h=e.result_position_on_page,A=e.resultPositionOnPage,O=A===void 0?h:A,N=e.num_results_per_page,L=e.numResultsPerPage,D=L===void 0?N:L,M=e.pod_id,P=e.podId,F=P===void 0?M:P,H=e.strategy_id,K=e.strategyId,G=K===void 0?H:K,W=e.item_id,V=e.itemId,z=V===void 0?W:V,Y=e.item_name,Q=e.itemName,X=Q===void 0?Y:Q;c&&(g.variation_id=c),u&&(g.section=u),l&&(g.result_id=l),i.isNil(R)||(g.result_count=R),i.isNil(U)||(g.result_page=U),i.isNil(O)||(g.result_position_on_page=O),i.isNil(D)||(g.num_results_per_page=D),F&&(g.pod_id=F),G&&(g.strategy_id=G),z&&(g.item_id=z),X&&(g.item_name=X);var J="".concat(f).concat(C({},this.options)),Z="POST",ee=w(g,s(s({},this.options),{},{requestMethod:Z}));return this.requests.queue(J,Z,ee,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultsLoaded",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,b.default)(e)==="object"&&!Array.isArray(e)){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_load?"),g={},_=e.section,a=_===void 0?"Products":_,c=e.result_count,p=e.resultCount,u=p===void 0?c:p,n=e.result_page,m=e.resultPage,l=m===void 0?n:m,x=e.result_id,S=e.resultId,R=S===void 0?x:S,I=e.selected_filters,j=e.selectedFilters,U=j===void 0?I:j,h=e.url,A=e.sort_order,O=e.sortOrder,N=O===void 0?A:O,L=e.sort_by,D=e.sortBy,M=D===void 0?L:D,P=e.filter_name,F=e.filterName,H=F===void 0?P:F,K=e.filter_value,G=e.filterValue,W=G===void 0?K:G,V=e.items;a&&(g.section=a),i.isNil(u)||(g.result_count=u),i.isNil(l)||(g.result_page=l),R&&(g.result_id=R),U&&(g.selected_filters=U),h&&(g.url=h),N&&(g.sort_order=N),M&&(g.sort_by=M),H&&(g.filter_name=H),W&&(g.filter_value=W),V&&Array.isArray(V)&&(g.items=V.slice(0,100).map(function(X){return i.toSnakeCaseKeys(X,!1)}));var z="".concat(f).concat(C({},this.options)),Y="POST",Q=w(g,s(s({},this.options),{},{requestMethod:Y}));return this.requests.queue(z,Y,Q,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackBrowseResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,b.default)(e)==="object"&&!Array.isArray(e)){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/browse_result_click?"),g={},_=e.section,a=_===void 0?"Products":_,c=e.variation_id,p=e.variationId,u=p===void 0?c:p,n=e.result_id,m=e.resultId,l=m===void 0?n:m,x=e.result_count,S=e.resultCount,R=S===void 0?x:S,I=e.result_page,j=e.resultPage,U=j===void 0?I:j,h=e.result_position_on_page,A=e.resultPositionOnPage,O=A===void 0?h:A,N=e.num_results_per_page,L=e.numResultsPerPage,D=L===void 0?N:L,M=e.selected_filters,P=e.selectedFilters,F=P===void 0?M:P,H=e.filter_name,K=e.filterName,G=K===void 0?H:K,W=e.filter_value,V=e.filterValue,z=V===void 0?W:V,Y=e.customer_id,Q=e.customerId,X=Q===void 0?Y:Q,J=e.item_id,Z=e.itemId,ee=Z===void 0?X||J:Z,se=e.item_name,At=e.name,Me=e.itemName,ze=Me===void 0?se||At:Me;a&&(g.section=a),u&&(g.variation_id=u),l&&(g.result_id=l),i.isNil(R)||(g.result_count=R),i.isNil(U)||(g.result_page=U),i.isNil(O)||(g.result_position_on_page=O),i.isNil(D)||(g.num_results_per_page=D),F&&(g.selected_filters=F),G&&(g.filter_name=G),z&&(g.filter_value=z),ee&&(g.item_id=ee),ze&&(g.item_name=ze);var xt="".concat(f).concat(C({},this.options)),He="POST",Ct=w(g,s(s({},this.options),{},{requestMethod:He}));return this.requests.queue(xt,He,Ct,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackGenericResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((0,b.default)(e)==="object"){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/result_click?"),g={},_=e.item_id,a=e.itemId,c=a===void 0?_:a,p=e.item_name,u=e.itemName,n=u===void 0?p:u,m=e.variation_id,l=e.variationId,x=l===void 0?m:l,S=e.section,R=S===void 0?"Products":S;if(c){g.section=R,g.item_id=c,n&&(g.item_name=n),x&&(g.variation_id=x);var I="".concat(f).concat(C({},this.options)),j="POST",U=w(g,s(s({},this.options),{},{requestMethod:j}));return this.requests.queue(I,j,U,t),this.requests.send(),!0}}return this.requests.send(),new Error('A parameters object with an "itemId" property is required.')}},{key:"trackQuizResultsLoaded",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,b.default)(e)==="object"&&!Array.isArray(e)){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_load?"),g=e.quiz_id,_=e.quizId,a=_===void 0?g:_,c=e.quiz_version_id,p=e.quizVersionId,u=p===void 0?c:p,n=e.quiz_session_id,m=e.quizSessionId,l=m===void 0?n:m,x=e.url,S=e.section,R=S===void 0?"Products":S,I=e.result_count,j=e.resultCount,U=j===void 0?I:j,h=e.result_id,A=e.resultId,O=A===void 0?h:A,N=e.result_page,L=e.resultPage,D=L===void 0?N:L,M={},P={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof l!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof x!="string")return new Error('"url" is a required parameter of type string');if(P.quiz_id=a,P.quiz_version_id=u,P.quiz_session_id=l,P.url=x,!i.isNil(R)){if(typeof R!="string")return new Error('"section" must be a string');M.section=R,P.section=R}if(!i.isNil(U)){if(typeof U!="number")return new Error('"resultCount" must be a number');P.result_count=U}if(!i.isNil(O)){if(typeof O!="string")return new Error('"resultId" must be a string');P.result_id=O}if(!i.isNil(D)){if(typeof D!="number")return new Error('"resultPage" must be a number');P.result_page=D}P.action_class="result_load";var F="".concat(f).concat(C(M,this.options)),H="POST",K=w(P,s(s({},this.options),{},{requestMethod:H}));return this.requests.queue(F,H,K,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizResultClick",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,b.default)(e)==="object"&&!Array.isArray(e)){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_result_click?"),g=e.quiz_id,_=e.quizId,a=_===void 0?g:_,c=e.quiz_version_id,p=e.quizVersionId,u=p===void 0?c:p,n=e.quiz_session_id,m=e.quizSessionId,l=m===void 0?n:m,x=e.item_id,S=e.itemId,R=S===void 0?x:S,I=e.item_name,j=e.itemName,U=j===void 0?I:j,h=e.result_count,A=e.resultCount,O=A===void 0?h:A,N=e.result_id,L=e.resultId,D=L===void 0?N:L,M=e.result_page,P=e.resultPage,F=P===void 0?M:P,H=e.num_results_per_page,K=e.numResultsPerPage,G=K===void 0?H:K,W=e.result_position_on_page,V=e.resultPositionOnPage,z=V===void 0?W:V,Y=e.section,Q=Y===void 0?"Products":Y,X={},J={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof l!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof R!="string"&&typeof U!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(J.quiz_id=a,J.quiz_version_id=u,J.quiz_session_id=l,!i.isNil(R)){if(typeof R!="string")return new Error('"itemId" must be a string');J.item_id=R}if(!i.isNil(U)){if(typeof U!="string")return new Error('"itemName" must be a string');J.item_name=U}if(!i.isNil(Q)){if(typeof Q!="string")return new Error('"section" must be a string');X.section=Q}if(!i.isNil(O)){if(typeof O!="number")return new Error('"resultCount" must be a number');J.result_count=O}if(!i.isNil(D)){if(typeof D!="string")return new Error('"resultId" must be a string');J.result_id=D}if(!i.isNil(F)){if(typeof F!="number")return new Error('"resultPage" must be a number');J.result_page=F}if(!i.isNil(G)){if(typeof G!="number")return new Error('"numResultsPerPage" must be a number');J.num_results_per_page=G}if(!i.isNil(z)){if(typeof z!="number")return new Error('"resultPositionOnPage" must be a number');J.result_position_on_page=z}J.action_class="result_click";var Z="".concat(f).concat(C(X,this.options)),ee="POST",se=w(J,s(s({},this.options),{},{requestMethod:ee}));return this.requests.queue(Z,ee,se,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"trackQuizConversion",value:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e&&(0,b.default)(e)==="object"&&!Array.isArray(e)){var f="".concat(this.options.serviceUrl,"/v2/behavioral_action/quiz_conversion?"),g=e.quiz_id,_=e.quizId,a=_===void 0?g:_,c=e.quiz_version_id,p=e.quizVersionId,u=p===void 0?c:p,n=e.quiz_session_id,m=e.quizSessionId,l=m===void 0?n:m,x=e.item_id,S=e.itemId,R=S===void 0?x:S,I=e.item_name,j=e.itemName,U=j===void 0?I:j,h=e.variation_id,A=e.variationId,O=A===void 0?h:A,N=e.revenue,L=e.section,D=L===void 0?"Products":L,M=e.type,P=e.is_custom_type,F=e.isCustomType,H=F===void 0?P:F,K=e.display_name,G=e.displayName,W=G===void 0?K:G,V={},z={};if(typeof a!="string")return new Error('"quizId" is a required parameter of type string');if(typeof u!="string")return new Error('"quizVersionId" is a required parameter of type string');if(typeof l!="string")return new Error('"quizSessionId" is a required parameter of type string');if(typeof R!="string"&&typeof U!="string")return new Error('"itemId" or "itemName" is a required parameter of type string');if(z.quiz_id=a,z.quiz_version_id=u,z.quiz_session_id=l,!i.isNil(R)){if(typeof R!="string")return new Error('"itemId" must be a string');z.item_id=R}if(!i.isNil(U)){if(typeof U!="string")return new Error('"itemName" must be a string');z.item_name=U}if(!i.isNil(O)){if(typeof O!="string")return new Error('"variationId" must be a string');z.variation_id=O}if(!i.isNil(N)){if(typeof N!="string")return new Error('"revenue" must be a string');z.revenue=N}if(!i.isNil(D)){if(typeof D!="string")return new Error('"section" must be a string');z.section=D}if(!i.isNil(M)){if(typeof M!="string")return new Error('"type" must be a string');z.type=M}if(!i.isNil(H)){if(typeof H!="boolean")return new Error('"isCustomType" must be a boolean');z.is_custom_type=H}if(!i.isNil(W)){if(typeof W!="string")return new Error('"displayName" must be a string');z.display_name=W}z.action_class="conversion";var Y="".concat(f).concat(C(V,this.options)),Q="POST",X=w(z,s(s({},this.options),{},{requestMethod:Q}));return this.requests.queue(Y,Q,X,t),this.requests.send(),!0}return this.requests.send(),new Error("parameters are required of type object")}},{key:"on",value:function(e,t){return e!=="success"&&e!=="error"?new Error('messageType must be a string of value "success" or "error"'):!t||typeof t!="function"?new Error("callback is required and must be a function"):(this.eventemitter.on(e,t),!0)}}]),T}();return B.RequestQueue=v,Oe=B,Oe}const Jt="@constructor-io/constructorio-client-javascript",Wt="2.35.16",Qt="Constructor.io JavaScript client",Xt="lib/constructorio.js",Yt="lib/types/constructorio.d.ts",Zt={clean:"sudo rm -rf node_modules package-lock.json",version:"npm run verify-node-version && npm run docs && git add ./docs/* && npm run bundle && git add -A ./dist","check-license":"license-checker --production --onlyAllow 'Apache-2.0;BSD-3-Clause;MIT;0BSD;BSD-2-Clause'","verify-node-version":"chmod +x ./scripts/verify-node-version.sh && ./scripts/verify-node-version.sh",lint:"eslint 'src/**/*.js' 'spec/**/*.js' 'src/**/*.d.ts'",test:"npm run compile && mkdir -p test && cp -rf lib/* test && mocha ./spec/*","test:types":"tsd .","test:parallel":"npm run compile && mkdir -p test && cp -rf lib/* test && mocha --parallel ./spec/*","test:src":"mkdir -p test && cp -rf src/* test && mocha ./spec/*","test:src:parallel":"mkdir -p test && cp -rf src/* test && mocha --parallel ./spec/*","test:bundled":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha ./spec/*","test:bundled:parallel":"npm run bundle && BUNDLED=true PACKAGE_VERSION=$(echo $npm_package_version) mocha --parallel ./spec/*","test:all":"npm run test && npm run test:bundled","test:all:parallel":"npm run test:parallel && npm run test:bundled:parallel",precoverage:"rm -rf ./coverage && rm -rf ./.nyc_output",coverage:"nyc --all --reporter=html npm run test:src",postcoverage:"open coverage/index.html && rm -rf test",docs:"jsdoc --configure ./.jsdoc.json ./README.md --recurse ./src --destination ./docs",compile:"babel src/ -d lib/ --copy-files && rm -rf lib/types/tests",prepublish:"npm run compile",bundle:"rm -rf ./dist/* && npm run compile && node bundle.js",prepare:"husky install"},$t={type:"git",url:"git+https://github.com/Constructor-io/constructorio-client-javascript.git"},er="constructor.io",tr="MIT",rr={url:"https://github.com/Constructor-io/constructorio-client-javascript/issues"},ir="https://github.com/Constructor-io/constructorio-client-javascript#readme",nr=["lib/**/*"],or={"@babel/cli":"^7.15.7","@babel/core":"^7.15.8","@babel/plugin-transform-runtime":"^7.16.4","@babel/preset-env":"^7.15.8","@babel/register":"^7.15.3","@cspell/eslint-plugin":"^6.8.2","@types/events":"^3.0.0","@typescript-eslint/eslint-plugin":"^5.48.1","@typescript-eslint/parser":"^5.48.1",chai:"^4.2.0","chai-as-promised":"^7.1.1",docdash:"^2.0.1",dotenv:"^8.6.0",esbuild:"^0.12.28",eslint:"^8.17.0","eslint-config-airbnb-base":"^15.0.0","eslint-plugin-import":"^2.25.2",husky:"^7.0.4",jsdoc:"^4.0.2",jsdom:"^16.7.0","license-checker":"^25.0.1","lodash.clonedeep":"^4.5.0",mocha:"^9.1.3",nyc:"^15.1.0",qs:"^6.11.0",sinon:"^7.5.0","sinon-chai":"^3.7.0",tsd:"^0.24.1"},sr={"@constructor-io/constructorio-id":"^2.4.10","crc-32":"^1.2.2",events:"^3.0.0","fetch-ponyfill":"^7.1.0",store2:"^2.14.2"},ur={"@babel/runtime":"^7.19.0"},ar={directory:"src/types/tests"},cr={name:Jt,version:Wt,description:Qt,main:Xt,types:Yt,scripts:Zt,repository:$t,author:er,license:tr,bugs:rr,homepage:ir,files:nr,devDependencies:or,dependencies:sr,peerDependencies:ur,tsd:ar};var Te={exports:{}},Be={exports:{}},De={exports:{}},dt;function Et(){return dt||(dt=1,function(k){function E(b,d){(d==null||d>b.length)&&(d=b.length);for(var q=0,r=new Array(d);q<d;q++)r[q]=b[q];return r}k.exports=E,k.exports.__esModule=!0,k.exports.default=k.exports}(De)),De.exports}var vt;function fr(){return vt||(vt=1,function(k){var E=Et();function b(d){if(Array.isArray(d))return E(d)}k.exports=b,k.exports.__esModule=!0,k.exports.default=k.exports}(Be)),Be.exports}var Ie={exports:{}},gt;function lr(){return gt||(gt=1,function(k){function E(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)}k.exports=E,k.exports.__esModule=!0,k.exports.default=k.exports}(Ie)),Ie.exports}var Ue={exports:{}},pt;function hr(){return pt||(pt=1,function(k){var E=Et();function b(d,q){if(d){if(typeof d=="string")return E(d,q);var r=Object.prototype.toString.call(d).slice(8,-1);if(r==="Object"&&d.constructor&&(r=d.constructor.name),r==="Map"||r==="Set")return Array.from(d);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(d,q)}}k.exports=b,k.exports.__esModule=!0,k.exports.default=k.exports}(Ue)),Ue.exports}var Ne={exports:{}},_t;function dr(){return _t||(_t=1,function(k){function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}k.exports=E,k.exports.__esModule=!0,k.exports.default=k.exports}(Ne)),Ne.exports}var yt;function vr(){return yt||(yt=1,function(k){var E=fr(),b=lr(),d=hr(),q=dr();function r(s){return E(s)||b(s)||d(s)||q()}k.exports=r,k.exports.__esModule=!0,k.exports.default=k.exports}(Te)),Te.exports}var Le,wt;function gr(){if(wt)return Le;wt=1;var k=$,E=k(te()),b=k(re()),d=k(vr()),q=k(ue()),r=oe(),s=ie();function o(v,w,C,B){var T=C.apiKey,y=C.clientId,e=C.sessionId,t=C.segments,f=C.userId,g=C.version,_=C.quizzesServiceUrl,a={c:g},c="";if(a.key=T,a.i=y,a.s=e,t&&t.length&&(a.us=t),f&&(a.ui=String(f)),!v||typeof v!="string")throw new Error("quizId is a required parameter of type string");if(B==="results"&&((0,q.default)(w.answers)!=="object"||!Array.isArray(w.answers)||w.answers.length===0))throw new Error("answers is a required parameter of type array");if(w){var p=w.section,u=w.answers,n=w.quizSessionId,m=w.quizVersionId,l=w.page,x=w.resultsPerPage,S=w.filters;p&&(a.section=p),m&&(a.quiz_version_id=m),n&&(a.quiz_session_id=n),u&&u.length&&(c="&".concat(s.stringify({a:u.map(function(I){return(0,d.default)(I).join(",")})}))),s.isNil(l)||(a.page=l),s.isNil(x)||(a.num_results_per_page=x),S&&(a.filters=S)}a._dt=Date.now(),a=s.cleanParams(a);var R=s.stringify(a);return"".concat(_,"/v1/quizzes/").concat(encodeURIComponent(v),"/").concat(encodeURIComponent(B),"/?").concat(R).concat(c)}var i=function(){function v(w){(0,E.default)(this,v),this.options=w||{},this.eventDispatcher=new r(w.eventDispatcher)}return(0,b.default)(v,[{key:"getQuizNextQuestion",value:function(C,B){var T=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},e,t=this.options.fetch,f=new AbortController,g=f.signal;try{e=o(C,B,this.options,"next")}catch(_){return Promise.reject(_)}return s.applyNetworkTimeout(this.options,y,f),t(e,{signal:g}).then(function(_){return _.ok?_.json():s.throwHttpErrorFromResponse(new Error,_)}).then(function(_){if(_.quiz_version_id)return T.eventDispatcher.queue("quizzes.getQuizNextQuestion.completed",_),_;throw new Error("getQuizNextQuestion response data is malformed")})}},{key:"getQuizResults",value:function(C,B){var T=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},e,t=this.options.fetch,f=new AbortController,g=f.signal;try{e=o(C,B,this.options,"results")}catch(_){return Promise.reject(_)}return s.applyNetworkTimeout(this.options,y,f),t(e,{signal:g}).then(function(_){return _.ok?_.json():s.throwHttpErrorFromResponse(new Error,_)}).then(function(_){if(_.quiz_version_id)return T.eventDispatcher.queue("quizzes.getQuizResults.completed",_),_;throw new Error("getQuizResults response data is malformed")})}}]),v}();return Le=i,Le}var qt=$,pr=qt(te()),_r=qt(re()),yr=Dt(),wr=It(),br=jt(),mr=Ft(),kr=Pt(),Er=Mt(),St=Kt(),qr=oe(),Fe=ie(),Sr=cr,Ar=Sr.version,xr=gr(),Cr=function(){var E="ciojs-client-",b=[];return Fe.canUseDOM()||b.push("domless"),typeof process<"u"&&typeof process.env<"u"&&{}.BUNDLED&&b.push("bundled"),"".concat(E).concat(b.join("-")).concat(b.length?"-":"").concat(Ar)},Pe=function(){function k(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,pr.default)(this,k);var b=E.apiKey,d=E.version,q=E.serviceUrl,r=E.quizzesServiceUrl,s=E.segments,o=E.testCells,i=E.clientId,v=E.sessionId,w=E.userId,C=E.fetch,B=E.trackingSendDelay,T=E.sendReferrerWithTrackingEvents,y=E.sendTrackingEvents,e=E.eventDispatcher,t=E.idOptions,f=E.beaconMode,g=E.networkParameters;if(!b||typeof b!="string")throw new Error("API key is a required parameter of type string");var _,a,c=typeof ne<"u"&&ne.CLIENT_VERSION;if(Fe.canUseDOM()){var p=new yr(t||{});_=p.session_id,a=p.client_id}else{if(!v||typeof v!="number")throw new Error("sessionId is a required user parameter of type number");if(!i||typeof i!="string")throw new Error("clientId is a required user parameter of type string")}this.options={apiKey:b,version:d||c||Cr(),serviceUrl:q&&q.replace(/\/$/,"")||"https://ac.cnstrc.com",quizzesServiceUrl:r&&r.replace(/\/$/,"")||"https://quizzes.cnstrc.com",sessionId:v||_,clientId:i||a,userId:w,segments:s,testCells:o,fetch:C||wr({Promise}).fetch,trackingSendDelay:B,sendTrackingEvents:y,sendReferrerWithTrackingEvents:T,eventDispatcher:e,beaconMode:f!==!1,networkParameters:g||{}},this.search=new br(this.options),this.browse=new mr(this.options),this.autocomplete=new kr(this.options),this.recommendations=new Er(this.options),this.tracker=new St(this.options),this.quizzes=new xr(this.options),new qr(E.eventDispatcher).queue("instantiated",this.options)}return(0,_r.default)(k,[{key:"setClientOptions",value:function(b){if(Object.keys(b).length){var d=b.apiKey,q=b.segments,r=b.testCells,s=b.userId;d&&(this.options.apiKey=d),q&&(this.options.segments=q),r&&(this.options.testCells=r),s&&(this.options.userId=s)}}}]),k}();Pe.Tracker=St;Fe.canUseDOM()&&(window.ConstructorioClient=Pe);var Rr=Pe;const Or=Rt(Rr),Ur=(k,E)=>{if(!k)throw new Error("Api Key required");return Tt.useMemo(()=>new Or({apiKey:k,sendTrackingEvents:!0,...E}),[k,E])};export{Ir as D,Ur as u};
//# sourceMappingURL=useCioClient-c50e5a51.js.map
